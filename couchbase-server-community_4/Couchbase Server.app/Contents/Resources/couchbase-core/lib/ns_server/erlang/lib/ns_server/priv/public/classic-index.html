<!DOCTYPE html>
<!--[if IE 7 ]>    <html class="ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->
<head>
  <title>Couchbase Console</title>
  <link rel="stylesheet" type="text/css" href="css/codemirror.css">
  <link rel="stylesheet" type="text/css" href="css/screen.css">
  <link rel="stylesheet" type="text/css" href="css/print.css">
  <link rel="stylesheet" type="text/css" href="css/jquery-ui.couchbase.css">
  <link rel="shortcut icon" href="/favicon.ico?v=2">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
</head>
<body class="auth nojs">
  <script>document.body.className = "auth";</script>
  <div class="io-error-notice-wrapper"><span class="io-error-notice" style="display:none;"></span></div>
  <div id="container">
    <div class="outline_tag" id="js_outline_tag"></div>
    <div class="page-header">
      <div class="cnt_holder main_holder">
        <div class="topper_nav">
          <span id="edit-internal-settings-link" class="when-roadmin-avoid-me" style="display:none;"><a onclick="runInternalSettingsDialog();" class="casper_internal_settings_popup">Edit internal settings</a> <b>&bull;</b></span>
          <a href="/ui/index.html" target="_self">
            New UI
          </a>
          <b>&bull;</b>
          <a id="switch_support_docs" href="http://docs.couchbase.com/4.0/" target="cbdocs">Documentation</a>
          <b>&bull;</b> <a id="switch_support_forums" href="http://www.couchbase.com/communities/" target="cbforums">Support</a>
          <b>&bull;</b> <a href="javascript:showAbout();">About</a>
          <i class="sign-out-link"><b>&bull;</b> <a href="javascript:ThePage.signOut();">Sign Out</a></i>
        </div>
        <div class="log_wrap">
          <a href="/index.html"></a>
        </div>
        <div class="tab_name ellipsis" id="js_tab_name">
        </div>
        <div id="global_progress" class="closed disable_toggle">
          <i class="toggle">i</i>
          <ul id="global_progress_container"></ul>
        </div>
      </div>
    </div><!-- .page-header -->

    <div id="headerNav">
      <div class="contents">
        <ul>
          <!--<li class="line"></li>-->
          <li class="line"><a class="switch_overview" href="#visitSec=overview">Cluster Overview</a></li>
          <li class="line"><a class="switch_servers switch_groups" href="#visitSec=servers">Server Nodes</a></li>
          <li class="line"><a class="switch_buckets" href="#visitSec=buckets">Data Buckets</a></li>
          <li class="line"><a class="switch_views" href="#visitSec=views">Views</a></li>
          <li class="line"><a class="switch_indexes" href="#visitSec=indexes">Index</a></li>
          <li class="line"><a class="switch_replications" href="#visitSec=replications">XDCR</a></li>
          <li class="line"><a class="switch_log" href="#visitSec=log">Log</a></li>
          <li class="line" id="nav_settings_container"><a href="#visitSec=settings" class="switch_settings">Settings</a></li>
        </ul>
        <script id="nav_settings_template" type="text/html">
        <a href="#visitSec=settings" class="switch_settings">Settings
        {% if (enabled && newVersion!==false && newVersion!==undefined) { %}
        <span class="badge notify"><span>!</span></span>
        {% } %}</a>
        </script>
      </div>
    </div><!-- #headerNav -->

    <div id="mainContainer" class="main_holder">
      <div id="mainPanel" class="mainPanel">

        <div id="js_overview" class="overview" style="display:none">
          <h1>Cluster Overview</h1>
          <div id="notice_container"></div>
          <div class="shadow_box">
            <div class="hdr">
              <span class="staleness-notice">Difficulties communicating with the
              cluster; displaying cached information!</span>Cluster
            </div>
            <div class="section" id="overview_clusters_block">
              <div class="item ram-item">
                <div class="label">
                  <strong>RAM Overview</strong>
                </div>
                <div class="line_cnt"></div>
              </div>
              <div class="item disk-item">
                <div class="label">
                  <strong>Disk Overview</strong>
                </div>
                <div class="line_cnt"></div>
              </div>
            </div>
          </div>

          <div class="shadow_box">
            <div class="hdr">
              <span class="staleness-notice">Difficulties communicating
              with the cluster; displaying cached information!</span>
              Buckets <span>(<span class="buckets-number">??</span> active)</span>
            </div>
            <div class="section">
              <div class="item">
                <div class="graph_main" style="margin: 0;">
                  <span class="graph_info_label">Operations per second</span>
                  <div id="overview_ops_graph" class="graph"></div>
                </div>
                <div class="graph_main">
                  <span class="graph_info_label">Disk fetches per second</span>
                  <div id="overview_reads_graph" class="graph"></div>
                </div>
                <div class="no_stats_marker">
                  <span class="with_buckets">Waiting for samples...</span>
                  <span class="without_buckets">No buckets currently defined! Go to <a href="#sec=buckets">Manage Buckets</a> to create some.</span>
                </div>
              </div>
            </div>
          </div>

          <div class="shadow_box">
            <div class="hdr">
              <span class="staleness-notice">Difficulties communicating with
              the cluster; displaying cached information!</span>Servers
            </div>
            <div class="section" id="overview_servers_block">
              <div class="item ovf">
                <div class="actservers">
                  <h3>Active Servers: <span id="active-servers-count">??</span></h3>
                  <!-- <p>CPU Load Max: <b>98%</b></p> -->
                  <!-- <p>CPU Load Avg: <b>98%</b></p> -->
                  <!-- <p>CPU Load Min: <b>98%</b></p> -->
                  <!-- <a href="#">Monitor All Servers</a> -->
                </div>
                <ul>
                  <li class="fail">
                    <span class="when-non-zero">
                      <a href="#visitServersTab=pending">Servers Failed Over: <span class="failed-over-count">??</span></a>
                      <span class="badge"><span class="failed-over-count">??</span></span>
                    </span>
                    <span class="when-zero">Servers Failed Over: 0</span>
                  </li>
                  <li class="down">
                    <span class="when-non-zero">
                      <a href="#visitServersTab=active">Servers Down: <span class="down-count">??</span></a>
                      <span class="badge"><span class="down-count">??</span></span>
                    </span>
                    <span class="when-zero">Servers Down: 0</span>
                  </li>
                  <li class="pending">
                    <span class="when-non-zero">
                      <a href="#visitServersTab=pending">Servers Pending Rebalance: <span class="pending-count">??</span></a>
                      <span class="badge"><span class="pending-count">??</span></span>
                    </span><span class="when-zero">Servers Pending Rebalance: 0</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div id="js_groups" class="groups when-roadmin-avoid-me" style="display:none">
          <div class="when-enterprise">
            <h1>Server Groups</h1>
            <div class="ellipsis warning_message casper_draggable_server_to" id="js_group_notice"></div>
            <div class="shadow_box">
              <div class="header_2">
                <span class="staleness-notice">Difficulties communicating with the cluster; displaying cached information!</span>
                <a class="btn_1" href="#visitSec=servers"><span>Server Nodes</span></a>
                <a id="js_create_group" class="btn_1 casper_groups_create_popup"><span>Create Group</span></a>
                <a id="js_save_groups_changes" class="btn_1 casper_groups_error"><span>Apply Changes</span></a>
              </div>
            <div class="groups_container" id="js_server_group_container"></div>
            </div>
            <script id="js_server_group_template" type="text/html">
              {% if (loading) { %}
                <div class='spinner' style="height:{%= height %}px;line-height:{%= height %}px;width:100%"><span>Loading...</span></div></div>
              {% } else { %}
              {% _.each(groups, function (group, groupIndex) { %}
                <div class="group_wrapper js_group_wrapper" id="js_group_{%= makeSafeForCSS(group.name) %}_wrapper">
                    <div class="head" id="js_group_{%= makeSafeForCSS(group.name) %}">
                      <a class="btn_1 js_edit_group casper_groups_edit_popup"><span>Rename Group</span></a>
                      <div><h4 class="ellipsis">{%= h(group.name) %}</h4></div>
                    </div>
                    <div class="group_servers js_group_servers">
                     {% _.each(group.nodes, function (server) { %}
                        <div class="js_draggable draggable casper_draggable_server_from_{%= makeSafeForCSS(group.name) %}">
                          <span><span>:::</span>{%= V.stripPortHTML(server.hostname, allNodes) %}</span>
                        </div>
                      {% }) %}
                      <div class="group_is_empty">
                        <span>This group is empty, <a class="js_delete_group casper_groups_remove_popup">click to delete</a>.</span>
                      </div>
                    </div>
                </div>
              {% }); %}
              {% } %}
            </script>
          </div>
        </div>

        <div id="js_servers" class="servers" style="display:none">
          <h1>Servers</h1>
          <div class="warning_message failover_warning">
            Fail Over Warning: <span class="warning-text"></span>
          </div>
          <div class="warning_message" id="js_rebalance_during_sample_load" style="display:none;color:red;">
            Warning: Rebalance is not available until data loading is completed!
          </div>
          <div id="auto_failover_count_container" class="warning_message" style="display:none;">
            A server was automatically failed over
            <a class="auto_failover_count_reset edit_btn when-roadmin-hide-me">
              <span>Reset Quota</span>
            </a>
          </div>
          <div class="shadow_box">
            <div class="header_2">
              <span class="staleness-notice">Difficulties communicating with the cluster; displaying cached information!</span>
              <a class="btn_1 when-enterprise when-roadmin-avoid-me" href="#visitSec=groups" id="js_server_groups_tab"><span>Server Groups</span></a>
              <a class="add_button btn_1 when-roadmin-hide-me casper_servers_add_popup"><span>Add Server</span></a>
              <a class="rebalance_button btn_1 when-roadmin-hide-me"><span>Rebalance</span></a>
              <a class="stop_rebalance_button btn_1 when-roadmin-hide-me">
                <span id="js_rebalance_btn_text">Stop Rebalance</span>
              </a>
              <a class="stop_recovery_button btn_1 when-roadmin-hide-me"><span>Stop Recovery</span></a>
              <ul class="tabs">
                <li class="tab_left"><a>Active Servers</a></li>
                <li class="tab_right" id="rebalance_tab">
                  <a class="casper_servers_pending_rebalance_tab">Pending Rebalance</a>
                  <span class="badge"><span>1</span></span>
                </li>
              </ul>
            </div>
            <div class="panes">
              <div>
                <div id="active_server_list_container" class="servers_list"></div>
              </div><div>
                <div id="pending_server_list_container" class="servers_list"></div>
              </div>
            </div>
          </div>
          <script id="manage_server_list_template" type="text/html">
          <table class="list" style="width:100%;">
            <colgroup>
              <col style="width:19%">
              <col style="width:9%">
              <col style='{%= isGroupRaw ? "width: 7%;" : "width: 0px;" %}'>
              <col style="width:7%">
              <col style="width:8%">
              <col style="width:8%">
              <col style="width:8%">
              <col style="width:8%">
              <col style="width:4%">
              <col style="width:22%">
            </colgroup>
            <tbody>
              <tr>
                <th class="node_name" style="text-align:left;" data-sortby="hostname">Server Node Name</th>
                <th></th>
                <th style='{%= isGroupRaw ? "text-align: center!important;" : "width: 0px;" %}' data-sortby="group">{%= isGroupRaw ? "Group" : " " %}</th>
                <th data-sortby="services">Services</th>
                <th>RAM Usage</th>
                <th>Swap Usage</th>
                <th>CPU Usage</th>
                <th>Data/Disk Usage</th>
                <th style="text-indent:8px;white-space: nowrap;">Items (Active / Replica)</th>
                <th></th>
              </tr>
            <!-- {% if (!rows.length) { %} -->
              <tr class="server_row rebalance_empty">
                <td colspan="10">There are no servers pending rebalance.</td>
              </tr>
            <!-- {% } %} -->
            <!-- {% _.each(rows, function (s) { %} -->

            <!-- {% if (s.reAddPossible) { %} -->
              <tr class="add_back_row when-roadmin-avoid-me">
                <td colspan="10">{%= V.setData('server', s) %}
                  <span class="add_back_btn" data-recovery-type="full"><span>Full Recovery</span></span>
                  <!-- {% if (s.deltaRecoveryPossible) { %} -->
                  <span class="add_back_btn" data-recovery-type="delta"><span>Delta Recovery</span></span>
                  <!-- {% } %} -->
                  <span class="add_b_message">This server is now reachable. Do you want to add it back to the cluster on the next rebalance?</span>
                </td>
              </tr>
            <!-- {% } %} -->

              <tr class="server_row {%= s.nodeClass %}" id="{%= h(s.otpNode.replace('@', '-')) %}">

                <td class="node_name ellipsis">{%= V.setData('server', s) %}
              <!-- {% if (s.reAddPossible) { %} -->
                  <a href="#openServer={%= h(s.otpNode) %}" class="casper_open_cluster_{%= makeSafeForCSS(s.otpNode) %}"><ins class="expander closed"></ins></a>
                  {%= V.stripPortHTML(s.hostname, rows) %}
              <!-- {% } else { %} -->
                  <!-- {% if (s.nodeClass.indexOf('server_down') != -1 || !expandingAllowed) { %} -->
                  {%= h(s.hostname) %}
                  <!-- {% } else { %} -->
                  <a href="#openServer={%= h(s.otpNode) %}" title="Show Server Node info"><ins class="expander closed"></ins></a>
                  <a href="#sec=analytics&statsHostname={%= h(s.hostname) %}" title="View Analytics for {%= h(s.hostname) %}">{%= V.stripPortHTML(s.hostname, rows) %}</a>
                  <!-- {% } %} -->
              <!-- {% } %} -->
                </td>

                <td class="servers_icons {%= s.nodeClass %}">
                </td>
                <td><div class="ellipsis" title="{%= s.group %}">{%= h(s.group || "") %}</div></td>

                <td style="text-align: left;">{%= V.formatServices(s.services).join('<br>') %}</td>

                <td class="ram">
                  <!-- {% if ((s.memoryTotal > 0) && isFinite(s.memoryFree)) { %} -->
                  <div class="vertical_bar">
                    <div class="used" style="height:{%= (s.memoryTotal - s.memoryFree) / s.memoryTotal * 100 %}%;top:{%= 105 - ((s.memoryTotal - s.memoryFree) / s.memoryTotal * 100) %}%"></div>
                  </div>
                  <div class="wrap">{%= h(truncateTo3Digits((s.memoryTotal - s.memoryFree) / s.memoryTotal * 100)) %}%</div>
                  <!-- {% } else { %} -->
                  <div class="not_active">N/A</div>
                  <!-- {% } %} -->
                </td>

                <td class="ram">
                  <!-- {% if (s.systemStats.swap_total > 0 && isFinite(s.systemStats.swap_used)) { %} -->
                  <div class="vertical_bar">
                    <div class="used" style="height:{%= s.systemStats.swap_used / s.systemStats.swap_total * 100 %}%;top:{%= 105 - (s.systemStats.swap_used / s.systemStats.swap_total * 100) %}%"></div>
                  </div>
                  <div class="wrap"> {%= h(truncateTo3Digits((s.systemStats.swap_used / s.systemStats.swap_total) * 100)) %}%</div>
                  <!-- {% } else { %} -->
                  <div class="not_active">N/A</div>
                  <!-- {% } %} -->
                </td>

                <td class="ram">
                  <!-- {% if (isFinite(s.systemStats.cpu_utilization_rate)) { %} -->
                  <div class="vertical_bar">
                    <div class="used" style="height:{%= Math.floor(s.systemStats.cpu_utilization_rate * 100) / 100 %}%;top:{%= 105 - (Math.floor(s.systemStats.cpu_utilization_rate * 100) / 100) %}%"></div>
                  </div>
                  <div class="wrap">{%= h(truncateTo3Digits(Math.floor(s.systemStats.cpu_utilization_rate * 100) / 100)) %}%</div>
                  <!-- {% } else { %} -->
                  <div class="not_active">N/A</div>
                  <!-- {% } %} -->
                </td>

                <td class="ram">
                  {%= (function (dataSize, diskUsage) {
                         if (dataSize == null || diskUsage == null) {
                           return "N/A";
                         }
                         return V.formatQuantity(dataSize) + " /<br>" + V.formatQuantity(diskUsage);
                      })(s.couchDataSize, s.couchDiskUsage) %}
                </td>

                <td class="rep" style="padding-left:0;padding-right:0;">
                  {%= V.formatQuantity(s.interestingStats.curr_items || 0, 1000, ' ') %}/<br>
                  {%= V.formatQuantity(s.interestingStats.vb_replica_curr_items || 0, 1000, ' ') %}
                </td>

                <!-- {% if (s.clusterMembership == 'inactiveAdded') { %} -->
                <td class="actions with_state_message">
                  {% if (s.recoveryType === 'none') { %}
                    <span class="state_message">Pending Add</span>
                    <a href="#" class="list_button btn_cancel eject_server when-roadmin-avoid-me"><span>Cancel</span></a>
                  {% } else { %}
                    <span class="state_message">Pending {%= h(s.recoveryType) %} recovery</span>
                    <a href="#" class="list_button btn_cancel eject_server when-roadmin-avoid-me"><span>Cancel</span></a>
                  {% } %}
                </td>
                <!-- {% } else if (s.pendingEject) { %} -->
                <td class="actions with_state_message">
                  <span class="state_message">Pending Removal</span>
                  <a href="#" class="list_button btn_cancel remove_from_list when-roadmin-avoid-me"><span>Cancel</span></a>
                </td>
                <!-- {% } else { %} -->
                <td class="actions">
                  <a class="list_button eject_server when-roadmin-avoid-me casper_servers_remove_popup"><span>Remove</span></a>
                  <a class="list_button failover_server when-roadmin-avoid-me casper_servers_failover_popup"><span>Fail Over</span></a>
                  <span class="failed_over_message">Failed Over: Pending Removal</span>
                </td>
                <!-- {% } %} -->

              </tr>
            <!-- {% if (expandingAllowed) { %} -->
              <tr><td colspan="10" class="settings-placeholder" style="display:none;">{%= ServersSection.renderServerDetails(s) %}</td></tr>
            <!-- {% } %} -->
          <!-- {% }); %} -->
            </tbody>
          </table>
          </script>

          <script id="server_details_template" type="text/html">
          <div class="first gong_rb">
            <div class="pad">
              <table class="properties_table">
                <tr>
                    <td>Server Name: <span>{%= h(hostname) %}</span></td>
                    <td>Uptime: <span>{%= h(formatUptime(uptime)) %}</span></td>
                    <td>OS: <span>{%= h(os) %}</span></td>
                </tr>
                <tr>
                  <td colspan="3">Version: <span>{%= h(DAL.prettyVersion(version, true)) %}</span></td>
                </tr>
              </table>
            </div>
            <div class="side side_1"></div>
            <div class="side side_2"></div>
            <div class="side side_3"></div>
            <div class="side side_4"></div>
          </div>
          <div class="additional_server_info">
            <!-- {% if (detailedProgress) { %}-->
              <h3>Rebalance Progress</h3>
              <div class="rebalance_progress">

                <!-- {% if (detailedProgress.outgoing) { %} -->
                <div>
                  <p class="direction">Data being transferred out</p>

                  <p>
                    <span>Bucket:</span>
                    {%= detailedProgress.bucket %}
                    ({%= detailedProgress.bucketNumber %} out of {%= detailedProgress.bucketsCount %})
                  </p>
                  <p>
                    <span>Total number of keys to be transferred:</span>
                    {%= detailedProgress.outgoing.docsTotal %}
                  </p>
                  <p>
                    <span>Estimated number of keys transferred:</span>
                    {%= detailedProgress.outgoing.docsTransferred %}
                  </p>
                  <p>
                    <span>
                      Number of Active# vBuckets and Replica# vBuckets to transfer:
                    </span>
                    Active#-{%= detailedProgress.outgoing.activeVBucketsLeft %}
                    Replica#-{%= detailedProgress.outgoing.replicaVBucketsLeft %}
                  </p>
                </div>
                <!-- {% } %} -->

                <!-- {% if (detailedProgress.ingoing) { %} -->
                <div>
                  <p class="direction">Data being transferred in</p>
                  <p>
                    <span>Bucket:</span>
                    {%= detailedProgress.bucket %}
                    ({%= detailedProgress.bucketNumber %} out of {%= detailedProgress.bucketsCount %})
                  </p>
                  <p>
                    <span>Total number of keys to be transferred:</span>
                    {%= detailedProgress.ingoing.docsTotal %}
                  </p>
                  <p>
                    <span>Estimated number of keys transferred:</span>
                    {%= detailedProgress.ingoing.docsTransferred %}
                  </p>
                  <p>
                    <span>
                      Number of Active# vBuckets and Replica# vBuckets to transfer:
                    </span>
                    Active#-{%= detailedProgress.ingoing.activeVBucketsLeft %}
                    Replica#-{%= detailedProgress.ingoing.replicaVBucketsLeft %}
                  </p>
                </div>
                <!-- {% } %}-->

              </div>
            <!-- {% } %}-->
            {%= tmpl("js_warm_up_tmpl")({thisWarmupTasks: thisNodeWarmupTasks}) %}

            <h3>Memory</h3>
            <div class="info_block">
              <span class="dynamic_ram">Dynamic RAM:</span>
              <div class="usage-block">{%= V.thisElement(function (e) {ServersSection.renderUsage(e, obj.storageTotals.ram, true, (_.indexOf(services, 'n1ql') > -1 && services.length === 1)) }) %}</div>
            </div>
            <h3>Disk Storage</h3>
            <div class="info_block">
              <span class="disk_storage">
                <span>Disk One: </span>
                  <!-- {% if (storage.hdd[0].path) { %} -->
                    <span class="path" title="{%= h(storage.hdd[0].path) %}">data: {%= h(V.ellipsisiseOnLeft(storage.hdd[0].path || "", 25))  %}</span>
                  <!-- {% } %}-->
                  <!-- {% if (storage.hdd[0].index_path) { %} -->
                    <span class="path" title="{%= h(storage.hdd[0].index_path) %}">index: {%= h(V.ellipsisiseOnLeft(storage.hdd[0].index_path || "", 25))  %}</span>
                  <!-- {% } %}-->
              </span>
              <div class="usage-block">{%= V.thisElement(function (e) {ServersSection.renderUsage(e, obj.storageTotals.hdd)}) %}</div>
            </div>
          </div><!-- additional_server_info -->
          </script>
        </div>

        <div id="js_analytics" class="analytics" style="display:none">
          <span class="block nav float_right configure_view"></span>
          <h1>
            <span class="js_when-normal-stats">DATA BUCKETS: </span><span class="js_when-specific-stats"><em class="js_specific-stat-description"></em> for bucket: </span>
            <select id="js_analytics_buckets_select"></select>
            <span class="js_when-normal-stats"> on <select id="js_analytics_servers_select"></select></span>
          </h1>
          <div id="js_date_slider_container" class="date_slider_container">
            <div id="js_date_slider" class="date_slider"></div>
            <div class="time_mode_wrap">
              <a id="js_zoom_minute" class="js_click">Minute</a>
              <a id="js_zoom_hour" class="js_click">Hour</a>
              <a id="js_zoom_day" class="js_click">Day</a>
              <a id="js_zoom_week" class="js_click">Week</a>
              <a id="js_zoom_month" class="js_click">Month</a>
              <a id="js_zoom_year" class="js_click">Year</a>
            </div>
          </div>
          <div id="current_stat_info">
            <h3>
              <span class="i">i</span>
              <span class="current-graph-name js_current-graph-name"><!-- stat name --></span>
            </h3>
            <p class="js_current-graph-desc"><!-- stat description --></p>
          </div>
          <div class="shadow_box" style="width:780px;">
            <div class="section">
              <div class="header_2">
                <span class="block nav float_right">
                  <span id="js_stats-period-container" class="stats-period-container">
                    <span class="with_samples current">Last <b id="js_stats_visible_period">?</b></span><span class="without_samples current">No samples, yet</span>
                  </span>
                  <span class="js_staleness-notice staleness-notice">Difficulties communicating with the cluster; displaying cached information!</span>
                </span>
                General Bucket Analytics
                <!--<ul class="tabs">
                  <li class="tab_left"><a id="general_analytics">General</a></li>
                  <li><a id="view_index_analytics">View &amp; Index</a></li>
                  <li class="tab_right"><a id="replication_analytics">Replication</a></li>
                </ul>-->
              </div>
              <div class="analytics_graph_main">
                <h2 class="current-graph-name js_current-graph-name">??</h2>
                <span class="graph_info_label block right active_node_count"><!-- 3 active nodes --></span>
                <div id="analytics_main_graph_grid">
                  <div id="js_analytics_main_graph" class="analytics_main_graph"></div>
                </div>
              </div>
              <script id="js_new_stats_block_template" type="text/html">
                      {% _.each(blocks, function (blockInfo) { %}
                      <div id="{%= h(blockInfo.id) %}" class="darker_block js_darker_block {%= blockInfo.extraCSSClasses %}">
                        {% if (!blockInfo.hideThis) { %}<h3 class="block-expander js_block-expander"><ins></ins>{%= h(blockInfo.blockName) %}</h3>{% } %}
                        {% if (blockInfo.blockName === 'Query') {%}
                        <span class="query_notice"><span class="i">i</span> Metrics for Query are not per bucket and will not change if bucket dropdown above is changed</span>
                        {% } %}
                        <div class="stats js_stats">
                        {% if (blockInfo.columns) { %}
                          <ul class="col_headers">
                          {% _.each(blockInfo.columns, function (columnName) { %}
                            <li>{%= h(columnName) %}</li>
                          {% }); %}
                          </ul>
                        {% } %}
                        {% _.each(blockInfo.stats, function (statInfo) {var name = statInfo.name; var title = statInfo.title; if (statInfo.hidden) {return;} %}
                          <div id="{%= h(statInfo.id) %}" class="js_analytics-small-graph analytics-small-graph {%= (statInfo.missing ? 'dynamic_dim' : '') %}" data-graph="{%=h(name)%}">
                            <div class="small_graph_block" id="js_small_graph_block" style="width: 168px; height: 36px;"></div>
                            <span class="small_graph_label">
                              <span class="value" id="js_small_graph_value">0</span><span class="label-text"> {%= h(title) %}</span>
                            </span>
                            <!-- <input type="checkbox" > -->
                            <ins class="right-arrow js_right-arrow">
                              <ul class="js_inner">
                              </ul>
                            </ins>
                            {% if (statInfo.desc) { %}<div class="graph_tooltip"><span>{%= h(statInfo.desc) %}</span></div>{% } %}
                          </div>
                        {% }); %}
                          <div class="clear"></div>
                        </div>
                      </div>
                      {% }); %}
              </script>
              <div id="js_stats_container"></div>
            </div>
          </div><!-- shadow_box -->
          <div class="shadow_box" style="width:780px;">
            <div class="section" id="js_top_keys_block">
              <h2 class="header_2">
                TOP KEYS
              </h2>
              <p id="js_top_keys_container" class="top_keys_container"></p>
              <script id="js_top_keys_template" type="text/html">
                      <table class="lined_tab">
                        <thead>
                          <tr>
                            <th>Key</th>
                            <th>Ops/Sec</th>
                          </tr>
                        </thead>
                        <tbody>
                          <!-- {% $.each(rows, function () { %} -->
                          <tr>
                            <td style="max-width:600px;word-wrap:break-word">{%= h(this.name) %}</td>
                            <td>{%= h(Math.round(this.ops * 100.0) / 100.0) %}</td>
                          </tr>
                          <!-- {% }); %} -->
                        </tbody>
                      </table>
              </script>
            </div> <!-- section -->
          </div> <!-- END shadow box -->
        </div>

        <div id="js_buckets" class="buckets" style="display:none">
          <h1>Data Buckets</h1>
          <div class="shadow_box" id="couchbase_buckets">
            <div class="js_manage_buckets_top_bar header_2">
              <h4 style="float:left;line-height:34px;">Couchbase Buckets</h4>
              <div class="right" style="overflow:hidden;">
                <a class="btn_1 create-bucket-button when-roadmin-hide-me casper_buckets_new_data_bucket" style="float:right;"><span>Create New Data Bucket</span></a>
                <span class="staleness-notice">Difficulties communicating with the cluster; displaying cached information!</span>
              </div>
            </div>
            <div id="bucket_list_container"></div>
          </div>

          <div class="shadow_box" id="memcached_buckets" style="display:none">
            <div class="js_manage_buckets_top_bar header_2">
              <h4 style="float:left">Memcached Buckets</h4>
              <div class="right">
                <span class="staleness-notice">Difficulties communicating with the cluster; displaying cached information!</span>
              </div>
            </div>
            <div id="memcached_bucket_list_container"></div>
          </div>

          <script id="bucket_list_template" type="text/html">
            <table class="list" width="100%">
              <tr>
                <th class="bucket_name">Bucket Name</th>
                <th></th>
                <th></th>
                <th></th>
                <th colspan="2">Data Nodes</th>
                <th colspan="2">Item Count</th>
                <th>Ops/sec</th>
                <th colspan="2" class="disk_fetch">Disk Fetches/sec</th>
                <th colspan="2" class="hit_ratio">Hit Ratio</th>
                <th colspan="2">RAM/Quota Usage</th>
                <th colspan="2">Data/Disk Usage</th>
                <th></th>
                <th></th>
                <th></th>
                <th class="last"></th>
              </tr>
              <!-- {% if (!rows.length) { %} -->
              <tr><td colspan="19" style="padding:15px">No buckets currently defined! Click "Create New Data Bucket" above to create one.</td></tr>
              <!-- {% } %} -->
              <!-- {% $.each(rows, function () { %} -->
              <tr class="{%= this.bucketTypeName.toLowerCase() %}">
                <td class="bucket_name ellipsis" colspan="4">
                  <a class="disable-if-stale bucket" href="#visitBucket={%= h(encodeURIComponent(this.name)) %}" title="Show Bucket info"><span class="expander closed casper_buckets_bucket_details"></span></a>
                  <a class="disable-if-stale" title="View Analytics for {%= h(this.name) %}" href="#sec=analytics&statsBucket={%= h(encodeURIComponent(this.uri)) %}">{%= h(this.name) %}</a>
                </td>
                <td colspan="2">
                  <span id="{%= h(this.name) %}_health" class="health_graph"></span>
                  {%= this.nodes.length %}
                </td>
                <td colspan="2">{%= h(this.basicStats.itemCount) %}</td>
                <td>{%= h(Math.round(this.basicStats.opsPerSec)) %}</td>
                {% if (this.bucketType == 'membase') { %}
                  <td colspan="2">
                    {% if (this.basicStats.diskFetches !== undefined) { %}
                    {%= h(truncateTo3Digits(this.basicStats.diskFetches)) %}
                    {% } else { %}N/A{% } %}
                  </td>
                {% } %}
                {% if (this.bucketType == 'memcached') { %}
                  <td colspan="2">{%= h(truncateTo3Digits(this.basicStats.hitRatio * 100)) %}%</td>
                {% } %}
                <td colspan="2">{%= V.formatQuantity(this.basicStats.memUsed) %} /<br> {%= V.formatQuantity(this.quota.ram) %}</td>
                <td colspan="2">
                  {% if (this.bucketType == 'membase') { %}
                    {%= V.formatQuantity(this.basicStats.dataUsed) %} /<br> {%= V.formatQuantity(this.basicStats.diskUsed) %}
                  {% } else { %}N/A{% } %}
                </td>
                <td colspan="4" class="last">
                  {% if (this.bucketType == 'membase') { %}
                    <a class="list_button disable-if-stale" href="#sec=views&viewsBucket={%= h(this.name) %}"><span>Views</span></a>
                    <a class="list_button when-roadmin-hide-me" href="#sec=documents&viewsBucket={%= encodeURIComponent(this.name) %}&documentsPageNumber=0"><span>Documents</span></a>{% } %}
                </td>
              </tr>
              <tr>
                <td colspan="19" class="settings-placeholder">
                  {%= BucketsSection.renderBucketDetails(this) %}
                </td>
              </tr>
              <!-- {% }); %} -->
            </table>
          </script>


          <script id="js_warm_up_tmpl" type="text/html">
            {% if (thisWarmupTasks) { %}
              <h3>Warmup Progress</h3>
              <div class="warmup_icon"></div>
              <div class="warmup_table_wrapper">
                <table class="warmup_table">
                  <colgroup>
                    <col class="bucket_name">
                    <col>
                  </colgroup>
                  <tbody>
                    {% _.each(thisWarmupTasks, function (task) { %}
                      <tr>
                        <td title="{%= h(task.key) %}" class="ellipsis">{%= h(task.key) %}</td>
                        <td>{%= h(task.status) %}</td>
                      </tr>
                    {% }) %}
                  </tbody>
                </table>
              </div>
              <div class="clear"></div>
            {% } %}
          </script>

          <script id="bucket_settings_template" type="text/html">
            <div class="gong_rb">
              <div class="pad">
                <div style="width:800px;float:left;">
                  <div>
                    Access Control: <span>{%= (authType == 'none') ? 'Port' : ((name == 'default') ? 'None' : 'Authentication') %}{%= (authType == 'none') ? (': ' + proxyPort) : '' %}</span>
                  </div>
                {% if (bucketType == 'membase') { %}
                  <div>
                    Replicas: <span>{%= replicaNumber != 0 ? V.count(replicaNumber, 'replica copy') : 'disabled' %}</span>
                  </div>
                  <div>
                    Compaction: <span class="bucket_progress_container" data-name="{%= h(name) %}">
                    {%= thisBucketCompactionTask ? thisBucketCompactionTask.progress + "% complete" : "Not active" %}
                    </span>
                  </div>
                  <div>
                    Cache Metadata: <span>{%= evictionPolicy === "valueOnly" ? 'Value Ejection' : 'Full Ejection' %}</span>
                  </div>
                  <div>
                    Disk I/O priority: <span>{%= threadsNumber === 3 ? 'Low' : 'High' %}</span>
                  </div>
                {% } %}
                </div>
                <div class="last when-roadmin-hide-me">
                  <a class="inner_btn casper_buckets_edit_bucket_popup" href="#editBucket={%= h(encodeURIComponent(uri)) %}">Edit</a>
                  {% if (!showCancel && !noCompaction) { %}
                    <button class="inner_btn compact_btn {%= disableCompact ? 'dynamic_disabled' : ''%}" data-uri="{%= h(controllers.compactAll) %}"><span>Compact</span></button>
                  {% } else if (!noCompaction) { %}
                    <button class="inner_btn cancel_compact_btn {%= disableCancel ? 'dynamic_disabled' : ''%}" data-uri="{%= h(thisBucketCompactionTask.cancelURI) %}"><span>Cancel</span></button>
                  {% } %}
                </div>
              </div>
              <div class="side side_1"></div>
              <div class="side side_2"></div>
              <div class="side side_3"></div>
              <div class="side side_4"></div>
            </div>

            <div class="additional_server_info bucket_details_info">
              {%= tmpl("js_warm_up_tmpl")({thisWarmupTasks: thisBucketWarmupTasks}) %}

              <h2>Cache Size</h2>
              <div class="dynamic_ram">
                <label class="for-hdd-quota">
                  <span>Dynamic RAM Quota:</span>
                  <span>{%= h(V.formatQuantity(ramQuota)) %}</span>
                  <abbr></abbr>
                </label>
              </div>
              <div class="size-gauge for-ram"></div>
              {%= V.thisElement(function (e) {BucketsSection.renderRAMDetailsGauge(e, obj);}) %}

            {% if (storageInfoRelevant) { %}
              <h2>Storage Size</h2>
              <div class="disk_storage">
                <label class="for-hdd-quota" style="padding:0;">
                  <span>Persistence Enabled:</span>
                  <span>Yes</span><br>
                  <span>Disk Usage:</span>
                  <span>{%= h(V.formatQuantity(basicStats.diskUsed)) %}</span><br>
                  <span>Data Usage:</span>
                  <span>{%= h(V.formatQuantity(basicStats.dataUsed)) %}</span>
                  <abbr></abbr>
                </label>
              </div>
              <div class="size-gauge for-hdd"></div>
              {%= V.thisElement(function (e) {BucketsSection.renderHDDDetailsGauge(e, obj)}) %}
            {% } %} <!-- storageInfoRelevant -->
            </div><!-- additional_server_info -->
          </script>
        </div>

        <script id="js_select_nodes_list_template" type="text/html">
          {% _.each(nodes, function (node) { %}
            <li class="dynamic_{%=node.nodeClass %}">
              <input type="checkbox"
                     name="js-selected-nodes"
                     value="{%= h(node.value) %}"
                     id="collected_node_list_{%= makeSafeForCSS(node.value) %}"
                     {%= !node.isUnhealthy ? 'checked="checked"' : ''%}
                     {%= node.isUnhealthy ? 'disabled="disabled"' : ''%}>
              <label for="collected_node_list_{%= makeSafeForCSS(node.value) %}">{%= h(node.hostname) %}</label>
            </li>
          {% }); %}
        </script>

        <script id="logs_template" type="text/html">
          <table class="lined_tab">
            <colgroup>
              <col style="width: 55%;">
              <col style="width: 15%;">
              <col style="width: 15%;">
              <col style="width: 15%;">
            </colgroup>
            <thead>
              <tr>
                <th>Event</th>
                <th>Module Code</th>
                <th>Server Node</th>
                <th>Time</th>
              </tr>
            </thead>
            <tbody>
              <!-- {% _.each(rows, function (logRow) { %} -->
              <tr>
                <td>{%= h(logRow.text).replace(/\n/g, "<br />") %}</td>
                <td>{%= h(logRow.module) + (new String(1000 + parseInt(logRow.code))).slice(-3)%}</td>
                <td>{%= h(logRow.node) %}</td>
                <td class="text_11 nobr">{%=V.formatLogTStamp(logRow.serverTime)%}
              </tr>
              <!-- {% }); %} -->
            </tbody>
          </table>
        </script>

        <script id="js_collect_progress_template" type="text/html">
          <div id="js_collection_status" class="collection_status dynamic_{%= status %}">
            <span>{%= ('Collection ' + status) + (status === 'running' ? '...' : '.') %}</span>
          </div>
          {% if (nodesByStatus.started) { %}
            <div>
              <p>In progress:</p>
              <div class="js_result result">
                {% _.each(nodesByStatus.started, function (node) { %}
                  <div>{%= h(node.nodeName) %}</div>
                {% }); %}
              </div>
            </div>
          {% } %}
          {% if (nodesByStatus.starting) { %}
            <div>
              <p>Pending:</p>
              <div class="js_result result">
                {% _.each(nodesByStatus.starting, function (node) { %}
                  <div>{%= h(node.nodeName) %}</div>
                {% }); %}
              </div>
            </div>
          {% } %}
          {% if (nodesByStatus.collected) { %}
            <div>
              <p class="green">Logs were successfully collected to the following paths:</p>
              <div class="js_result result">
                {% _.each(nodesByStatus.collected, function (node) { %}
                  <div><strong>{%= h(node.nodeName) %}:</strong>{%= h(node.path) %}</div>
                {% }); %}
              </div>
            </div>
          {% } %}
          {% if (nodesByStatus.startedUpload) { %}
            <div>
              <p class="green">Logs are being uploaded from this paths:</p>
              <div class="js_result result">
                {% _.each(nodesByStatus.startedUpload, function (node) { %}
                  <div><strong>{%= h(node.nodeName) %}:</strong>{%= h(node.path) %}</div>
                {% }); %}
              </div>
            </div>
          {% } %}
          {% if (nodesByStatus.startingUpload) { %}
            <div>
              <p class="green">Logs are pending upload from this paths:</p>
              <div class="js_result result">
                {% _.each(nodesByStatus.startingUpload, function (node) { %}
                  <div><strong>{%= h(node.nodeName) %}:</strong>{%= h(node.path) %}</div>
                {% }); %}
              </div>
            </div>
          {% } %}
          {% if (nodesByStatus.uploaded) { %}
            <div>
              <p class="green">Logs were successfully uploaded to the following URLs:</p>
              <div class="js_result result">
                {% _.each(nodesByStatus.uploaded, function (node) { %}
                  <div><a href="{%= h(node.url) %}" target="_blank">{%= h(node.url) %}</a></div>
                {% }); %}
              </div>
            </div>
          {% } %}
          {% if (nodesByStatus.failedUpload) { %}
            <div>
              <p class="red">Warning: The following logs were successfully collected but failed to upload. Please manually upload from the following locations:</p>
              <div class="js_result result">
                {% _.each(nodesByStatus.failedUpload, function (node) { %}
                  <div><strong>{%= h(node.nodeName) %}:</strong>{%= h(node.path) %}</div>
                {% }); %}
              </div>
            </div>
          {% } %}
          {% if (nodesByStatus.failed) { %}
            <div>
              <p class="red">Error: Unable to collect logs from the following nodes:</p>
              <div class="js_result result">
                {% _.each(nodesByStatus.failed, function (node) { %}
                  <div>{%= h(node.nodeName) %}</div>
                {% }); %}
              </div>
            </div>
          {% } %}
          {% if (nodesByStatus.cancelled) { %}
            <div>
              <p class="red">Cancelled Nodes:</p>
              <div class="js_result result">
                {% _.each(nodesByStatus.cancelled, function (node) { %}
                  <div>{%= h(node.nodeName) %}</div>
                {% }); %}
              </div>
            </div>
          {% } %}
          {% if (nodeErrors.length) { %}
            <div>
              <p class="red">Node Errors:</p>
              <div class="js_result result">
                {% _.each(nodeErrors, function (node) { %}
                  <div><strong>{%= h(node.nodeName) %}:</strong> {%= h(node.error) %}</div>
                {% }); %}
              </div>
            </div>
          {% } %}
        </script>

        <div id="js_logs" class="logs" style="display:none">
          <!-- Shadow box -->
          <span class="staleness-notice">Difficulties communicating with the cluster; displaying cached information!</span>
          <h1>Log</h1>
          <div class="clear"></div>
          <div class="shadow_box">
            <div class="section">
              <div class="header_2">
                <ul class="tabs when-roadmin-avoid-me">
                  <li class="tab_left"><a>Logs</a></li>
                  <li class="tab_right"><a>Collect Information</a></li>
                </ul>
                <a id="js_start_new_info"  class="btn_1"><span>Start New Collection</span></a>
                <a id="js_cancel_collect_info"  class="btn_1"><span>Stop Collection</span></a>
                <a id="js_previous_result_btn" class="btn_1"><span>Previous Result</span></a>
              </div>
              <div class="panes clearfix">
                <div id="logs_container"></div>
                <div id="js_collect_information" class="when-roadmin-avoid-me">
                  <div class="collect_information_dialog" id="js_collect_info_start_new_view">
                    <form id="js_collect_info_form">
                      <div class="content">
                        <h2>Select Nodes</h2>
                        <p>Collect logs and diagnostic information from:</p>
                        <ul class="collect_from">
                          <li>
                            <input type="radio" name="from" value="*" id="all_nodes_radio" checked="checked">
                            <label for="all_nodes_radio">All nodes</label>
                          </li>
                          <li>
                            <input type="radio" name="from" value="" id="selected_nodes_radio">
                            <label for="selected_nodes_radio">Selected nodes:</label>
                          </li>
                          <li>
                            <ul id="js_select_nodes_list_container" class="selected_nodes"></ul>
                            <div id="js_nodes_error" class="js_error_container" style="display:block"></div>
                          </li>
                        </ul>
                        <h2>Upload Options</h2>
                        <div class="for_upload" id="js_upload_conf">
                          <div id="js_generalCollectInfo_error" class="js_error_container" style="display:block;margin:0 0 10px 0; line-height: 13px;"></div>
                          <div>
                            <label for="js_upload_to_cb">Upload to Couchbase:</label>
                            <input id="js_upload_to_cb" name="upload" value="true" type="checkbox">
                            <div id="js_upload_error" class="js_error_container"></div>
                          </div>
                          <div>
                            <label for="js_uploadHost_input">Upload to host:</label>
                            <input id="js_uploadHost_input" name="uploadHost" type="text">
                            <div id="js_uploadHost_error" class="js_error_container"></div>
                          </div>
                          <div>
                            <label for="js_customer_input">Customer name:</label>
                            <input id="js_customer_input" name="customer" type="text">
                            <div id="js_customer_error" class="js_error_container"></div>
                          </div>
                          <div>
                            <label for="js_ticket_input">Ticket Number (optional):</label>
                            <input id="js_ticket_input" name="ticket" type="text">
                            <div id="js_ticket_error" class="js_error_container"></div>
                          </div>
                        </div>
                      </div>
                      <div class="save_cancel">
                        <button class="save_button float_right js_save_button" type="submit">Collect</button>
                      </div>
                    </form>
                  </div>
                  <div class="collect_result_dialog collect_information_dialog" id="js_collect_result_view">
                    <div class="content" id="js_collect_progress_container">
                    </div>
                  </div>
                  <div class="spinner" id="js_collect_info_spinner" style="height:350px;line-height:350px;width:100%"><span>Loading ...</span></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div id="js_settings" class="settings" style="display:none">
          <h1>Settings</h1>
          <div class="shadow_box">
            <div class="section">
              <div class="header_2">
                <ul class="tabs">
                  <li class="tab_left"><a id="settings_cluster">Cluster</a></li>
                  <li><a id="settings_update_notifications" class="casper_settings_update_notifications">Update Notifications</a></li>
                  <li><a id="settings_auto_failover" class="casper_settings_auto_failover">Auto-Failover</a></li>
                  <li><a id="settings_alerts" class="casper_settings_alerts">Alerts</a></li>
                  <li><a id="settings_compaction" class="casper_settings_compaction">Auto-Compaction</a></li>
                  <li class="when-enterprise only-when-40 only-when_ldap_enabled"><a id="ldap_setup">LDAP Auth Setup</a></li>
                  <li class="when-roadmin-avoid-me"><a id="account_management" class="casper_settings_account_management">Account Management</a></li>
                  <li class="when-enterprise only-when-40"><a id="audit">Audit</a></li>
                  <li class="tab_right"><a id="settings_sample_buckets" class="casper_settings_sample_buckets">Sample Buckets</a></li>
                </ul>
              </div>
              <div class="panes clearfix">
                <div id="js_cluster_settings_container" class="cluster_settings_container">
                  <form id="js_cluster_public_settings_form" class="cluster_settings_form">
                    <div class="js_cluster_settings_fields">
                      <h2>
                        Configure Cluster
                      </h2>
                      <div class="sub_section">
                        <label>Cluster Name:</label>
                        <input type="text" name="clusterName" maxlength="256">
                        <span>(0 — 256 chars)</span>
                      </div>
                      <div class="certificate_section when-enterprise">
                        <h3>Certificate:</h3>
                        <div class="sub_section">
                          <p>
                            Self-signed SSL certificate is deployed across the cluster on each nodes.
                          </p>
                          <p>
                            <a id="js_show_hide_cert_area">Show</a> certificate.
                          </p>
                          <div class="about-cert-area_wrapper" id="js_about-cert-area_wrapper">
                            <textarea id="js-about-cert-area" readonly="readonly"></textarea>
                            <div></div>
                            <div onclick="regenerateCertificate();" class="edit_btn when-roadmin-avoid-me">Regenerate</div>
                            <span style="color:red;display:inline;margin-left:5px;font-size:11px;">* Clicking 'Regenerate' will immediately generate new certificate for the cluster</span>
                          </div>
                        </div>
                      </div>
                      <h2>Cluster RAM Quota</h2>
                      <div class="sub_section cluster_quota_settings" id="js_cluster_quota_settings">
                      </div>
                    </div>
                    <h2 class="only-when-40">Index Settings</h2>
                    <div class="sub_section index_settings_section js_index_settings_section only-when-40">
                      <div class="row">
                        <label for="index_settings_thread">Indexer Threads:</label>
                        <input type="number" name="indexerThreads" id="index_settings_thread">
                        <a class="tooltip text_11 casper_settings_software_update_tooltip"><span>What's this?</span>
                          <span class="tooltip_msg text_11" style="width:310px;"><span>
                            Number of dedicated threads the indexer uses. On multi-core machines increasing this number will increase the indexer's CPU utilization. Defaults to 4.
                          </span></span>
                        </a>
                        <span class="error-container err-indexerThreads"></span>
                      </div>
                      <div class="row">
                        <label for="in_memory_snapshot">In Memory Snapshot Interval:</label>
                        <input type="number" name="memorySnapshotInterval" id="in_memory_snapshot">
                        <span>(ms)</span>
                        <a class="tooltip text_11 casper_settings_software_update_tooltip"><span>What's this?</span>
                          <span class="tooltip_msg text_11" style="width:310px;"><span>
                            Specifies the frequency of in-memory snapshots. This determines
                            the earliest possibility of a scan seeing a given KV mutation.
                          </span></span>
                        </a>
                        <span class="error-container err-memorySnapshotInterval"></span>
                      </div>
                      <div class="row">
                        <label for="in_memory_snapshot">Stable Snapshot Interval:</label>
                        <input type="number" name="stableSnapshotInterval" id="in_memory_snapshot">
                        <span>(ms)</span>
                        <a class="tooltip text_11 casper_settings_software_update_tooltip"><span>What's this?</span>
                          <span class="tooltip_msg text_11" style="width:310px;"><span>
                            Specifies the frequency of persisted snapshots for recovery.
                          </span></span>
                        </a>
                        <span class="error-container err-stableSnapshotInterval"></span>
                      </div>
                      <div class="row">
                        <label for="in_memory_snapshot">Max Rollback Points:</label>
                        <input type="number" name="maxRollbackPoints" id="in_memory_snapshot">
                        <a class="tooltip text_11 casper_settings_software_update_tooltip"><span>What's this?</span>
                          <span class="tooltip_msg text_11" style="width:310px;"><span>
                            The maximum number of committed rollback points.
                          </span></span>
                        </a>
                        <span class="error-container err-maxRollbackPoints"></span>
                      </div>
                      <div class="row">
                        <label for="indexer_log_level">Indexer Log Level:</label>
                        <select name="logLevel" id="indexer_log_level">
                          <option value="silent">Silent</option>
                          <option value="fatal">Fatal</option>
                          <option value="error">Error</option>
                          <option value="warn">Warn</option>
                          <option value="info">Info</option>
                          <option value="verbose">Verbose</option>
                          <option value="timing">Timing</option>
                          <option value="debug">Debug</option>
                          <option value="trace">Trace</option>
                        </select>
                        <span class="error-container err-logLevel"></span>
                      </div>
                    </div>
                    <div class="save_cancel when-roadmin-hide-me">
                      <button class="save_button float_right" type="submit">
                        Save
                      </button>
                    </div>
                  </form>
                </div>
                <div id="notifications_container" class="notifications-updates"><div class='spinner' style="height:350px;line-height:350px;width:100%"><span>Loading...</span></div></div>
                <div id="auto_failover_container" class="auto_failover"><div class='spinner' style="height:350px;line-height:350px;width:100%"><span>Loading...</span></div></div>
                <div id="email_alerts_container" class="email_alerts"><div class='spinner' style="height:350px;line-height:350px;width:100%"><span>Loading...</span></div></div>
                <div id="compaction_container"><form>
                  <div class="auto_compaction persistent-only">
                    <h2>Auto-Compaction</h2>
                    <div class="sub_section">
                      <p>Auto-Compaction settings trigger the compaction process. The process compacts databases and their respective view indexes when the following conditions are met.</p>
                    </div>
                    <h3>Database Fragmentation</h3>
                    <div class="sub_section" id="js_database_fragmentation_settings"></div>
                    <h3 class="only-when-40">Index Fragmentation</h3>
                    <div class="sub_section only-when-40" id="js_index_fragmentation_settings"></div>
                    <h3>View Fragmentation</h3>
                    <div class="sub_section" id="js_view_fragmentation_settings"></div>
                    <h3>Time Interval</h3>
                    <div class="sub_section">
                      <div class="row">
                        <input type="checkbox" id="f5962927-16af-4eb6-802c-86fe6c3a238d" class="check-for-allowedTimePeriod"/>
                        <label for="f5962927-16af-4eb6-802c-86fe6c3a238d">Set the time interval for when compaction is allowed to run</label>
                      </div>
                      <div class="row">
                        Start Time:
                        <input id="8a786bbb-e9df-46d4-8733-2993ae0c2b95" name="allowedTimePeriod[fromHour]" type="number" min="0" max="23" placeholder="HH" />:<input name="allowedTimePeriod[fromMinute]" type="number" min="0" max="59" placeholder="MM" />
                        End Time: <input name="allowedTimePeriod[toHour]" type="number" min="0" max="23" placeholder="HH" />:<input name="allowedTimePeriod[toMinute]" type="number" min="0" max="59" placeholder="MM" />
                        <div class="error-container err-allowedTimePeriod"></div>
                        <div class="error-container err-allowedTimePeriod-fromHour-"></div>
                        <div class="error-container err-allowedTimePeriod-fromMinute-"></div>
                        <div class="error-container err-allowedTimePeriod-toHour-"></div>
                        <div class="error-container err-allowedTimePeriod-toMinute-"></div>
                      </div>
                      <div class="row">
                        <input type="hidden" name="allowedTimePeriod[abortOutside]" value="false" />
                        <input id="302bc9f8-0a98-4963-85a4-5670ab8f1c25" type="checkbox" name="allowedTimePeriod[abortOutside]" value="true" />
                        <label for="302bc9f8-0a98-4963-85a4-5670ab8f1c25">Abort compaction if run time exceeds the set time interval</label>
                        <div class="error-container err-allowedTimePeriod-abortOutside-"></div>
                      </div>
                      <div class="row">
                        <input type="hidden" name="parallelDBAndViewCompaction" value="false" />
                        <input id="f6fb6488-c05a-4baa-88f7-27032da6600b" type="checkbox" name="parallelDBAndViewCompaction" value="true" />
                        <label for="f6fb6488-c05a-4baa-88f7-27032da6600b">Compact Bucket and Views Index in parallel</label>
                        <div class="error-container err-parallelDBAndViewCompaction"></div>
                      </div>
                    </div>
                    <h3>Metadata Purge Interval</h3>
                    <div class="sub_section">
                      <div class="row">
                        <label for="fc68aaf1-9519-4eeb-ba28-3daa042aae22">Set the frequency of metadata purge interval:</label>
                        <input id="fc68aaf1-9519-4eeb-ba28-3daa042aae22" name="purgeInterval" style="width: 2.5em;">
                        <span>Range 0.04 (1 H) - 60days</span>
                        <a class="text_11 tooltip"><span>What's this?</span>
                          <span class="tooltip_msg"><span>
                              Metadata Purge Interval. Allowed range is 0.04 - 60 where 0.04 = 1h, 0.5 = 12h. Set how frequently a node will purge metadata on deleted items. If set too high, may significantly delay the node from reclaiming disk space. If set too low, may cause data inconsistencies in XDCR or Views.
                          </span></span>
                        </a>
                        <div class="error-container err-purgeInterval" style="display: inline; padding-left: 0;"></div>
                      </div>
                    </div>
                  </div> <!-- .auto_compaction -->
                  <div class="save_cancel when-roadmin-hide-me">
                    <button class="save_button float_right" type="submit">
                      Save
                    </button>
                  </div>
                </form></div>
                <div id="js_ldap_setup_container" class="ldap_setup_container only-when-40 when-enterprise only-when_ldap_enabled">
                  <h2>LDAP Auth</h2>
                  <div class="sub_section">
                    <p>Integrate with a directory server such as Active Directory or LDAP using the LDAP protocol. Users in LDAP can be mapped to Full-Admin / Read-Only Admin in Couchbase.</p>
                  </div>
                  <div style="float:left;">
                    <h3>Setup</h3>
                    <form id="js_ldap_setup_form" autocomplete="off">
                      <div class="sub_section" style="margin-right:0;">
                        <label><span>Enable:</span><input type="checkbox" name="enabled" value="true" id="js_ldap_enabled"></label>
                        <label class="textarea_label"><span>Read-Only Admins:</span><textarea name="roAdmins"></textarea>
                          <a class="text_11 tooltip" style="vertical-align: top;"><span>What's this?</span>
                            <span class="tooltip_msg"><span>
                                UIDs must be in ASCII and must be new line separated.
                            </span></span>
                          </a></label>
                        <label class="textarea_label"><span>Full Admins:</span><textarea name="admins"></textarea>
                          <a class="text_11 tooltip" style="vertical-align: top;"><span>What's this?</span>
                            <span class="tooltip_msg"><span>
                                UIDs must be in ASCII and must be new line separated.
                            </span></span>
                          </a></label>
                        <label style="display: inline-block;"><span>Default:</span></label>
                        <span class="radio_set">
                          <label><input type="radio" value="roAdmins" name="deftype"><span>Read-only</span></label>
                          <label><input type="radio" value="admins" name="deftype"><span>Full Admin</span></label>
                          <label><input type="radio" value="none" name="deftype"><span>None</span></label>
                        </span>
                      </div>
                    </form>
                  </div>
                  <div style="overflow: hidden">
                    <h3>Test</h3>
                    <form id="js_ldap_validate_form" autocomplete="off">
                      <div class="sub_section">
                        <label><span>Username:</span><input type="text" name="user" autocomplete="off" style="width: 150px;"></label>
                        <label><span>Password:</span><input type="password" name="password" autocomplete="off" style="width: 150px;"></label>
                        <button class="edit_btn" id="js_ldap_validate_form_submit">Validate</button>
                        <p id="js_ldap_validate_form_result"></p>
                      </div>
                    </form>
                  </div>
                  <div class="save_cancel when-roadmin-hide-me">
                    <button class="save_button float_right" id="js_ldap_setup_form_submit">Save</button>
                  </div>
                </div>
                <div class="account_management_container when-roadmin-avoid-me">
                  <h2>Read-Only User</h2>
                  <div class="sub_section">
                    <p>This user will have read-only access and
                        cannot make any changes to the system. The user
                        can only view existing servers, buckets, views
                        and monitor stats.</p>
                  </div>
                  <form id="js_account_management_form" class="account_management_form" autocomplete="off">
                    <div class="sub_section">
                      <label>
                        <span>Username:</span><input type="text" name="username" maxlength="24" autocomplete="off">
                        <i class="errors js_error_username"></i>
                      </label>
                      <label>
                        <span>Password:</span><input type="password" name="password" autocomplete="off">
                        <i class="errors js_error_password"></i>
                      </label>
                      <label>
                        <span>Verify Password:</span><input type="password" name="verifyPassword" autocomplete="off">
                        <i class="errors js_error_verifyPassword casper_create_roadmin_with_errors"></i>
                      </label>
                    </div>
                    <div class="save_cancel when-roadmin-hide-me">
                        <button class="save_button float_right casper_settings_create_accaunt" type="submit">Create</button>
                    </div>
                  </form>
                  <div id="js_account_delete" class="account_delete sub_section">
                    <p id="js_user_created">User: <span class="js_roadmin_name" style="color:#222;"></span> created successfully.</p>
                    <p id="js_user_exists"><span class="js_roadmin_name" style="color:#222;"></span> is existing user</p>
                    <div>
                      <span class="list_button casper_settings_account_reset_popup" id="js_reset_acc_btn">
                        <span>Reset Read-Only user Password</span>
                      </span>
                      <span class="list_button casper_settings_account_delete_popup" id="js_delete_acc_btn">
                        <span>Delete Read-Only User</span>
                      </span>
                    </div>
                  </div>
                </div>
                <div class="audit_container when-enterprise only-when-40" id="js_audit_setup_container">
                  <h2>Audit Configuration</h2>
                  <p class="sub_section">Auditing keeps track of important admin events occurring in Couchbase. Keeping track and persisting these events is essential for any secured environment and provides evidence for suspicious/malicious activity in Couchbase.</p>
                  <form id="js_audit_setup_form">
                    <div class="sub_section" style="margin-right:0;">
                      <i class="err-_ error-container"></i>
                      <div class="row">
                        <label><span>Enable:</span><input type="checkbox" name="auditdEnabled" value="true" id="js_audit_enabled"></label>
                      </div>
                      <div class="row">
                        <label><span>Target log directory:</span><input name="logPath" class="archive_path_field" id="js_archive_path_field">
                        </label><i class="err-logPath error-container"></i>
                      </div>
                      <div class="row">
                        <label><span>Log rotation time interval:</span><input name="rotateInterval" type="number" id="js_rotate_interval" style="width:67px;"></label>
                        <select name="rotateIntervalUnit" style="width:75px;">
                          <option value="minutes">Minutes</option>
                          <option value="hours">Hours</option>
                          <option value="days">Days</option>
                        </select>
                        <i class="err-rotateInterval error-container"></i>
                      </div>
                    </div>
                    <div class="save_cancel when-roadmin-hide-me">
                      <button class="save_button float_right" id="js_audit_setup_form_submit">Save</button>
                    </div>
                  </form>
                </div>
                <div id="sample_buckets_container"><form id="sample_buckets_form">
                  <h2>Sample Buckets</h2>
                  <div class="sub_section">
                    <p id="sample_buckets_quota_warning" class="warning_message">
                      Your cluster does not have enough RAM quota available to create
                      the selected sample data buckets. Please free at least
                      <span id="sampleQuotaRequired"></span>MB of RAM Quota per node.
                    </p>
                    <p id="sample_buckets_rebalance_warning" class="warning_message">
                      Can not load samples during rebalance.
                    </p>
                    <p id="sample_buckets_maximum_warning" class="warning_message">
                      Maximum number of buckets has been reached. For optimal performance,
                      no more than
                      <span id="maxBucketCount"></span> buckets are allowed.
                    </p>
                    <p>Sample buckets contain example data and Couchbase views. You can provision one or more sample buckets to help you discover the power of Couchbase Server.</p>
                  </div>
                  <h3>Installed Samples</h3>
                  <div class="sub_section">
                    <ul id="installed_samples"></ul>
                  </div>
                  <h3>Available Samples</h3>
                  <div class="sub_section">
                    <ul id="available_samples" class="casper_settings_sample_warnign"></ul>
                  </div>
                  <div class="save_cancel when-roadmin-hide-me">
                  <button class="save_button float_right" type="submit"
                          id="sample_buckets_settings_btn">
                    Create
                  </button>
                 </div>
                </form></div>
              </div>
            </div>
          </div>

          <script id="notifications_template" type="text/html">
            <h2>Update Notifications</h2>
            <div class="sub_section">
              <p>You are running version {%= h(version) %}.</p>
              {% if (enabled===true) { %}
                {% if (newVersion===undefined) { %}
                <p class="warning"><strong>Warning</strong> – There
                  was a problem with retreiving the update information.</p>
                {% } else if (newVersion===false) { %}
                <p>No updates available.</p>
                {% } else { %}
                <p>A new version ({%= h(newVersion) %}) is available:</p>
                <ul>
                  <li>
                    <a href="{%= h(links.release) %}">Release notes</a>
                  </li>
                  <li>
                    <a href="{%= h(links.download) %}">Download</a>
                    the new version
                  </li>
                </ul>
                  {% if (info!='') { %}
                  <p>{%= h(info) %}</p>
                  {% } %}
                {% } %}
              {% } %}
              <label class="for-enable-replicas">
                {% if (enabled===true) { %}
                <input type="checkbox" id="notification-updates" checked="checked">
                {% } else { %}
                <input type="checkbox" id="notification-updates">
                {% } %}
                <span>Enable software update notifications.</span>
                <a class="tooltip text_11 casper_settings_software_update_tooltip"><span>What's this?</span>
                  <span class="tooltip_msg text_11" style="width:310px;"><span>
                    Enabling software update notifications allows notification in
                    the Couchbase web console when a new version of Couchbase Server
                    is available. Configuration information transferred in the
                    update check is anonymous and does not include any stored
                    key-value data.
                  </span></span>
                </a>
              </label>
            </div>
            <div class="save_cancel when-roadmin-hide-me">
              <button class="save_button float_right" type="button"
                      disabled="disabled">
                Save
              </button>
            </div>
          </script>
          <script id="auto_failover_template" type="text/html">
            <h2>Auto-Failover</h2>
            <div class="sub_section">
              <label class="for-enable-replicas casper_settings_auto_failover_enabled"
                     for="auto_failover_enabled">
                <input type="checkbox" id="auto_failover_enabled">
                <span>Enable auto-failover</span>
              </label>
              <p>
                <label for="auto_failover_timeout">
                  <span>Timeout: </span>
                </label>
                <input type="text" id="auto_failover_timeout" value="{%= timeout %}" disabled="disabled" />
                <span class="error-container err-timeout"></span>
                <a class="text_11 tooltip casper_settings_auto_failover_timeout_tooltip"><span>What's this?</span>
                  <span class="tooltip_msg"><span>
                      How long (in seconds) a node must be considered down before it gets auto-failed-over.
                  </span></span>
                </a>
              </p>
              {% if (count > 0) { %}
              <div class="count_reset">
                A server was automatically failed over
                <a class="auto_failover_count_reset edit_btn when-roadmin-hide-me">
                  <span>Reset Quota</span>
                </a>
              </div>
              {% } %}
            </div>
            <div class="save_cancel when-roadmin-hide-me">
              <button class="save_button float_right" type="button"
                      disabled="disabled">
                Save
              </button>
            </div>
          </script>
          <script id="email_alerts_template" type="text/html">
            <h2>Email Alerts</h2>
            <div class="sub_section">
              <label class="for-enable-replicas">
                <input type="checkbox" id="email_alerts_enabled" class="casper_settings_alerts_errors">
                <span>Enable email alerts</span>
              </label>
            </div>
            <h3>Email Server Settings</h3>
            <div class="sub_section fields">
              <div class="row">
                <label for="email_alerts_host">Host:</label>
                <input type="text" id="email_alerts_host" value="{%= h(emailServer.host) %}" disabled="disabled">
                <label for="email_alerts_port" style="text-align: right;">Port:</label>
                <input type="text" id="email_alerts_port" value="{%= h(emailServer.port) %}" disabled="disabled">
                <div class="error-container err-email_port"></div>
              </div>
              <div class="row">
                <label for="email_alerts_user">Username:</label>
                <input type="text" id="email_alerts_user" value="{%= h(emailServer.user) %}" disabled="disabled">
              </div>
              <div class="row">
                <label for="email_alerts_pass">Password:</label>
                <input type="password" style="width: 150px;" id="email_alerts_pass" value="{%= h(emailServer.pass) %}" disabled="disabled">
              </div>
              <div class="row">
                <label for="email_alerts_encrypt">Require TLS:</label>
                <input type="checkbox" id="email_alerts_encrypt"
                       {% if (emailServer.encrypt) { %}
                       checked="checked"
                       {% } %}
                      >
              </div>
            </div>
            <h3>Email Settings</h3>
            <div class="sub_section fields">
              <div class="row">
                <label for="email_alerts_sender">Sender email:</label>
                <input type="text" id="email_alerts_sender" value="{%= h(sender) %}" disabled="disabled">
                <div class="error-container err-sender"></div>
              </div>
              <div class="row">
                <label for="email_alerts_sender" style="vertical-align:top;">Recipients:</label>
                <textarea id="email_alerts_recipients" disabled="disabled">{%= h(recipients) %}</textarea>
                <span style="vertical-align:top;margin:0 5px;line-height:24px">separate addresses with comma "," or spaces " "</span>
                <div class="error-container err-recipients"></div>
                <div class="when-roadmin-avoid-me"><button class="edit_btn" id="test_email">Test Mail</button> <span>using the settings above</span></div>
              </div>
            </div>
            <h3>Available Alerts</h3>
            <div class="sub_section checkboxes" id="email_alerts_alerts">
              {% for (var i=0; i<alerts.length; i++) { %}
              <label for="email_alerts_alerts_{%= h(alerts[i].label) %}">
                <input type="checkbox"
                       id="email_alerts_alerts_{%= h(alerts[i].value) %}"
                       value="{%= h(alerts[i].value) %}"
                       {% if (alerts[i].enabled) { %}
                       checked="checked"
                       {% } %}
                       />
                <span>{%= h(alerts[i].label) %}</span>
              </label>
              {% } %}
            </div>
            <div class="save_cancel when-roadmin-hide-me">
              <button class="save_button float_right" type="button"
                      disabled="disabled">
                Save
              </button>
            </div>
          </script>
        </div>

        <div id="js_views" class="views" style="display:none">
          <div class="only-when-non-kv-node">
            Views are not supported on this server node as it does not have a Data service. You may access views functionality on any Data service node in the cluster, such as: <a id="js_healthy_kv_node_link" target="_blank"></a>
          </div>
          <div class="only-when-kv-node">
          <h1 style="clear:both;overflow:hidden">
            <span style="float:left"><select id="views_bucket_select"></select> &gt; <a href="#visitSec=views">Views</a>
              <span class="when-inside-view">
                &gt; <select id="views_view_select"></select>
              </span>
            </span>
          </h1>
          <div class="shadow_box" id="views_list">
            <div class="header_2">
              <ul class="tabs switcher">
                <li class="tab_left">
                  <a>Development Views</a>
                </li>
                <li class="tab_right">
                  <a class="casper_views_prod_tab">Production Views</a>
                  <span class="badge notify"><span id="prod_view_count">??</span></span>
                </li>
              </ul>
              <div class="create_view">
                <a class="btn_1 btn_create when-in-dev when-roadmin-hide-me casper_views_create_view_popup" style="float: right"><span>Create Development View</span></a>
                <a class="btn_1 btn_create_spatial when-in-dev when-roadmin-hide-me casper_views_create_view_popup" style="float: right; margin-right: 5px;"><span>Create Development Spatial View</span></a>
                <span class="staleness-notice">Difficulties communicating with the cluster; displaying cached information!</span>
              </div>
            </div>
            <div class="panes">
              <div>
                <div id="development_views_list_container" class="views_list"></div>
              </div>
              <div>
                <div id="production_views_list_container" class="views_list"></div>
              </div>
            </div>
          </div>

          <script id="views_list_template" type="text/html">
            <table class="list">
            <thead>
              <tr>
                <th>Name</th>
                <th>Language</th>
                <th>Status</th>
                <th><div style="display:none">Disk Size</div></th>
                <th colspan=2 class="last"></th>
              </tr>
            </thead>
            <tbody>
            <!-- {% if (loading) { %} -->
            <tr>
                <td colspan="6" class='spinner' style="height:400px"><span>Loading...</span></td>
            </tr>
            <!-- {% } else { %} -->
            <!-- {% if (!bucketName) { %} -->
              <tr>
                <td colspan="6" class="empty">
                  <span>
                    No buckets currently defined! Go to
                    <a href="#sec=buckets">Data Buckets</a>
                    to create some.
                  </span>
                </td>
              </tr>
            <!-- {% } else if (rows.ddocsAreInFactMissing) { %} -->
              <tr><td colspan="6" class="empty">
                <span style="line-height:23px">This node doesn't host current bucket yet, so for list of design docs, please, visit different node's UI</span>
              </td></tr>
            <!-- {% } else if (!rows.length) { %} -->
              <tr><td colspan="6" class="empty">
                <span class="when-in-dev" style="line-height:23px">There are currently no Design Documents in Development. <span class="when-roadmin-avoid-me">Click "Create Development View" above to create one.</span></span>
                <span class="when-in-prod" style="line-height:23px">There are no Design Documents currently published. <span class="when-roadmin-avoid-me">Please visit "Development Views" to create one.</span></span>
              </td></tr>
            <!-- {% } else { %} -->
            <!-- {% _.each(rows, function (ddoc) {  %} -->
              <tr>
                <td class="design_doc_name ellipsis">
                  {%= h(ddoc.meta.id) %}
                </td>
                <td class="langv">{%= h(ddoc.language || "javascript") %}</td>
                <td>
                  <!-- {% if (ddoc.progress) {  %} -->
                  <div class="indexer_progress">
                    <div class="usage_smallest">
                      <div class="used" style="width: {%= h(ddoc.progress) %}%"></div>
                    </div>
                    <span class="ddoc_message">{%= (ddoc.taskType == 'indexer') ? "Indexing" : "Compacting" %} {%= h(ddoc.progress) %}%</span>
                  </div>
                  <!-- {% } %} -->
                </td>
                <td colspan="3" class="when-roadmin-hide-me">
                  <a class="list_button when-in-prod casper_views_copy_to_dev" href="#copyDDoc={%=h(encodeURIComponent(ddoc.meta.id))%}"><span>Copy to Dev</span></a>
                  <!--{% if (!(ddoc.json.spatial && ddoc.json.views && !_.isEmpty(ddoc.json.spatial) && !_.isEmpty(ddoc.json.views))) { %}-->
                  <a class="list_button when-in-dev {%= ddoc.isEmpty ? 'dynamic_disabled' : ''%}" href="#publishDDoc={%=h(encodeURIComponent(ddoc.meta.id))%}"><span>Publish</span></a>
                  <!-- {% } %} -->
                  <!--{% if (ddoc.json.views && !_.isEmpty(ddoc.json.views) &&  (!ddoc.json.spatial || _.isEmpty(ddoc.json.spatial)) ) { %}-->
                  <a class="list_button when-in-dev casper_views_add_view_popup" href="#addView={%=h(encodeURIComponent(ddoc.meta.id))%}"><span>Add View</span></a>
                  <!-- {% } %} -->
                  <!--{% if (ddoc.json.spatial && !_.isEmpty(ddoc.json.spatial) &&  (!ddoc.json.views || _.isEmpty(ddoc.json.views)) ) { %}-->
                    <a class="list_button when-in-dev casper_views_add_spatial_popup" href="#addSpatial={%=h(encodeURIComponent(ddoc.meta.id))%}"><span>Add Spatial View</span></a>
                  <!-- {% } %} -->
                  <!--{% if (!ddoc.json.spatial && !ddoc.json.views || _.isEmpty(ddoc.json.spatial) && _.isEmpty(ddoc.json.views)) { %}-->
                    <a class="list_button when-in-dev casper_views_add_view_popup" href="#addView={%=h(encodeURIComponent(ddoc.meta.id))%}"><span>Add View</span></a>
                    <a class="list_button when-in-dev casper_views_add_spatial_popup" href="#addSpatial={%=h(encodeURIComponent(ddoc.meta.id))%}"><span>Add Spatial View</span></a>
                  <!-- {% } %} -->
                  <a class="list_button casper_views_delete_popup" href="#deleteDDoc={%=h(encodeURIComponent(ddoc.meta.id))%}"><span>Delete</span></a>
                  <button class="list_button {%= ViewsSection.maybeDisabledCompactButtonAttr(ddoc)%} {%= ddoc.isEmpty ? 'dynamic_disabled' : ''%}" onclick="ViewsSection.compactDDoc({%= h(JSON.stringify(ddoc.meta.id)) %}, this);"><span>Compact</span></button>
                  <!--{% if (ddoc.json.spatial && ddoc.json.views && !_.isEmpty(ddoc.json.spatial) && !_.isEmpty(ddoc.json.views)) { %}-->
                    <div class="warning" style="overflow: hidden; margin-top:4px;">No new views can be added to this document. Delete either mapreduce or spatial views first.</div>
                  <!-- {% } %} -->
                </td>
              </tr>
              <!-- {% if (_.size(ddoc.json.viewInfos) < 1 && _.size(ddoc.json.spatialInfos) < 1) { %} -->
              <tr><td colspan="5" style="padding:15px;line-height:23px;">No views defined!<span class="when-in-dev"> Click "Create Development View" above to create one.</span></td></tr>
              <!-- {% } else { if (_.size(ddoc.json.viewInfos) > 0) { %} -->
              <!-- {% _.each(ddoc.json.viewInfos, function (viewInfo) { %} -->
              <tr>
                <td class="view_name ellipsis" colspan="5">
                  <a class="casper_views_view_tab" style="display:block;line-height:33px;" href="{%=h(viewInfo.viewLink)%}">{%= h(viewInfo.name) %}</a>
                </td>
                <td>
                  <a class="list_button btn_remove when-roadmin-avoid-me" href="{%=h(viewInfo.removeLink)%}"><span>Delete</span></a>
                  <a class="list_button btn_edit" href="{%=h(viewInfo.viewLink)%}"><span>{%= ddoc.canEditDoc ? 'Edit' : 'Show' %}</span></a>
                </td>
              </tr>
              <!-- {% }); %} -->
              <!-- {% } if (_.size(ddoc.json.spatialInfos) > 0) { %} -->
              <!-- {% _.each(ddoc.json.spatialInfos, function (spatialInfo) { %} -->
              <tr>
                <td class="view_name ellipsis" colspan="5">
                  <a href="{%=h(spatialInfo.viewLink)%}">[Spatial] {%= h(spatialInfo.name) %}</a>
                </td>
                <td>
                  <a class="list_button btn_remove when-roadmin-avoid-me" href="{%=h(spatialInfo.removeLink)%}"><span>Delete</span></a>
                  <a class="list_button btn_edit" href="{%=h(spatialInfo.viewLink)%}"><span>{%= ddoc.canEditDoc ? 'Edit' : 'Show' %}</span></a>
                </td>
              </tr>
              <!-- {% }); %} -->
              <!-- {% } } %} -->
            <!-- {% }); %} -->
            <!-- {% } %} -->
          <!-- {% } %} -->
            </tbody>
            </table>
          </script>

          <div id="view_details" style="display:none;">
            <div id="no_sample_docs" class="shadow_box when-roadmin-avoid-me" style="display:none">
              <h3 class="block-expander js_block-expander" style="padding:15px">Bucket is currently empty.</h3>
            </div>
            <div id="sample_docs" class="shadow_box darker_block js_darker_block when-roadmin-avoid-me">
               <h3 class="block-expander js_block-expander"><ins></ins><span class="view_head docs_title" style="text-transform:none;">SAMPLE DOCUMENT</span>
                <span class="buttons">
                  <a class="btn_1" id="preview_random_doc">
                    <span>Preview a Random Document</span>
                  </a>
                  <a class="btn_1" id="edit_sample_doc" href="#">
                    <span>Edit Document</span>
                  </a>
                </span>
                <span class="ellipsis documents_notice" style="display: block;"></span>
               </h3>
              <div id="sample_documents_container" class="sample_documents stats"></div>
            </div>

            <script id="sample_documents_template" type="text/html">
            <!-- {% if (loading) { %} -->
              <div class="spinner" style="height:100px;line-height:100px;"><span>loading...</span></div>
            <!-- {% } else { %} -->
              <!-- {% if (data) { %} -->
                <pre class="json">{%= $.futon.formatJSON(data.json, {html:true}) %}</pre>
                <pre class="meta">{%= $.futon.formatJSON(data.meta, {html:true}) %}</pre>
              <!-- {% } else { %} -->
                <pre style="text-align:center;">A document with that ID does not exist</pre>
              <!-- {% } %} -->
            <!-- {% } %} -->
            </script>

            <div class="shadow_box viewcode" id="viewcode" style="display:none;">
              <div class="darker_block js_darker_block">
                <h3 class="js_block-expander block-expander"><ins></ins><span class="view_head">View Code</span>
                  <span class="buttons when-roadmin-hide-me">
                    <a id="save_view_as" class="btn_1 casper_views_save_view_as_popup"><span>Save As...</span></a>
                    <a id="just_save_view" class="btn_1"><span>Save</span></a>
                  </span>
                  <span id="view_code_errors" class="ellipsis" style="display: block;"></span>
                </h3>
                <div class="stats">
                  <table class="list"><tbody><tr>
                    <td class="code map" style="width: 654px;">
                      <label for="viewcode_map">Map</label>
                      <textarea spellcheck="false" cols="20" rows="11" class="map" id="viewcode_map"></textarea>
                    </td>
                    <td class="splitter grippie"></td>
                    <td class="code reduce">
                      <label for="viewcode_reduce">Reduce<span class="when-in-dev"> (<span id="built_in_reducers">built in: <a>_count</a>, <a>_sum</a>, <a>_stats</a></span>)</span></label>
                      <textarea placeholder="(optional)" spellcheck="false" cols="20" rows="11" class="reduce" id="viewcode_reduce"></textarea>
                    </td>
                  </tr></tbody></table>
                </div>
              </div>
            </div>

            <div class="shadow_box viewcode" id="spatialcode" style="display:none;">
              <div class="darker_block js_darker_block">
                <h3 class="js_block-expander block-expander"><ins></ins><span class="view_head">Spatial Code</span>
                  <span class="buttons">
                    <a id="save_spatial_as" class="btn_1"><span>Save As...</span></a>
                    <a id="just_save_spatial" class="btn_1"><span>Save</span></a>
                  </span>
                  <span id="spatial_code_errors" class="ellipsis" style="display: block;"></span>
                </h3>
                <div class="stats">
                  <table class="list"><tbody><tr>
                    <td class="code map" style="width: 654px;">
                      <label for="spatialcode_fun">Spatial</label>
                      <textarea spellcheck="false" cols="20" rows="11" class="map" id="spatialcode_fun"></textarea>
                    </td>
                  </tr></tbody></table>
                </div>
              </div>
            </div>

            <script id="filter_template" type="text/html">
               <h2>{%= h(title) %}</h2>
              <div class="filters_container">
                <div class="filters_btn"></div>
                <div class="filters_popup">
                <form>
                  <div class="key">
                      <!--{% if (items.conflict) {%}--><div>
                        <label for="{%= prefix %}_filter_conflicts">conflicts</label>
                        <input id="{%= prefix %}_filter_conflicts" name="conflicts" type="checkbox">
                      </div><!--{% }%}-->
                      <!--{% if (items.bbox) {%}--><div>
                        <label for="{%= prefix %}_filter_bbox">bbox</label>
                        <input id="{%= prefix %}_filter_bbox" name="bbox" type="text">
                      </div><!--{% }%}-->
                      <!--{% if (items.startRange) {%}--><div>
                        <label for="{%= prefix %}_filter_start_range">start_range</label>
                        <input id="{%= prefix %}_filter_start_range" name="start_range" type="text">
                      </div><!--{% }%}-->
                      <!--{% if (items.endRange) {%}--><div>
                        <label for="{%= prefix %}_filter_end_range">end_range</label>
                        <input id="{%= prefix %}_filter_end_range" name="end_range" type="text">
                      </div><!--{% }%}-->
                      <!--{% if (items.descending) {%}--><div>
                        <label for="{%= prefix %}_filter_descending">descending</label>
                        <input id="{%= prefix %}_filter_descending" name="descending" type="checkbox">
                      </div><!--{% }%}-->
                      <!--{% if (items.startkey) {%}--><div>
                        <label for="{%= prefix %}_filter_startkey">startkey</label>
                        <input id="{%= prefix %}_filter_startkey" name="startkey" type="text">
                      </div><!--{% }%}-->
                      <!--{% if (items.endkey) {%}--><div>
                        <label for="{%= prefix %}_filter_endkey">endkey</label>
                        <input id="{%= prefix %}_filter_endkey" name="endkey" type="text">
                      </div><!--{% }%}-->
                      <!--{% if (items.startkeyDocid) {%}--><div>
                        <label for="{%= prefix %}_filter_startkey_docid">startkey_docid</label>
                        <input id="{%= prefix %}_filter_startkey_docid" name="startkey_docid" type="text">
                      </div><!--{% }%}-->
                      <!--{% if (items.endkeyDocid) {%}--><div>
                        <label for="{%= prefix %}_filter_endkey_docid">endkey_docid</label>
                        <input id="{%= prefix %}_filter_endkey_docid" name="endkey_docid" type="text">
                      </div><!--{% }%}-->
                      <!--{% if (items.group) {%}--><div>
                        <label for="{%= prefix %}_filter_group">group</label>
                        <input id="{%= prefix %}_filter_group" name="group" type="checkbox">
                      </div><!--{% }%}-->
                      <!--{% if (items.groupLevel) {%}--><div>
                        <label for="{%= prefix %}_filter_group_level">group_level</label>
                        <input id="{%= prefix %}_filter_group_level" name="group_level" type="text">
                      </div><!--{% }%}-->
                      <!--{% if (items.inclusiveEnd) {%}--><div>
                        <label for="{%= prefix %}_filter_inclusive_end">inclusive_end</label>
                        <input id="{%= prefix %}_filter_inclusive_end" name="inclusive_end" type="checkbox" data-send-false="true">
                      </div><!--{% }%}-->
                      <!--{% if (items.key) {%}--><div>
                        <label for="{%= prefix %}_filter_key">key</label>
                        <input id="{%= prefix %}_filter_key" name="key" type="text">
                      </div><!--{% }%}-->
                      <!--{% if (items.keys) {%}--><div>
                        <label for="{%= prefix %}_filter_keys">keys</label>
                        <input id="{%= prefix %}_filter_keys" name="keys" type="text">
                      </div><!--{% }%}-->
                      <!--{% if (items.reduce) {%}--><div>
                        <label for="{%= prefix %}_filter_reduce">reduce</label>
                        <div style="display: inline-block">
                          <select id="{%= prefix %}_filter_reduce" name="reduce" class="selectBox" multiple="multiple">
                            <option value="true">true</option>
                            <option value="false">false</option>
                            <option value="none" selected="selected">none</option>
                          </select>
                        </div>
                      </div><!--{% }%}-->
                      <!--{% if (items.stale) {%}--><div>
                        <label for="{%= prefix %}_filter_stale">stale</label>
                          <div style="display: inline-block">
                            <select id="{%= prefix %}_filter_stale" name="stale" class="selectBox" multiple="multiple">
                              <option value="false" selected="selected">false</option>
                              <option value="update_after">update_after</option>
                              <option value="ok">ok</option>
                            </select>
                          </div>
                        </div><!--{% }%}-->
                      <!--{% if (items.connectionTimeout) {%}--><div>
                        <label for="{%= prefix %}_filter_connection_timeout">connection_timeout</label>
                        <input id="{%= prefix %}_filter_connection_timeout" name="connection_timeout" type="text" placeholder="milliseconds">
                      </div><!--{% }%}-->
                    </div>
                    <div class="btn_wrap">
                      <button type="submit" class="list_button"><span>Close</span></button>
                      <button type="reset" class="list_button"><span>Reset</span></button>
                    </div>
                </div>
                <form>
              </div>
              <a href="#" target="_blank" class="filters_url"></a>

            </script>

            <div id="view_results_block" class="results_block" style="display:none;">
              <div id="view_filter_container" class="filter_container"></div>
              <a id="view_run_button" class="run_button btn_1 bt_marg"><span>Show Results</span></a>
              <span class="ic_prev_next">
                <a class="arr_prev"></a>
                <a class="arr_next"></a>
              </span> <!--/ic_prev_next-->
              <div class="clr"></div>
              <!--/filter result-->
              <div class="shadow_box">
                <ul class="tabs dev-subset-switcher when-in-dev">
                  <li class="tab_left"><a class="subset_dev">Development Time Subset</a></li>
                  <li class="tab_right"><a class="subset_prod">Full Cluster Data Set</a></li>
                </ul>
                <div id="view_results_spinner" class="spinner" style="height:100px;line-height:100px;display:none;"><span>Loading...</span></div>
                <div id="view_results_container" class="content c_result"></div>
              </div>
              <script id="view_results_template" type="text/html">
              <table class="list align_text" style="width:100%">
                <!-- {% if (errors) { %} -->
                  <tr>
                      <th class="keycol">Errors</th>
                      <th></th>
                  </tr>
                  <tbody class="list_errors">
                  <!-- {% _.each(errors, function (r) { %} -->
                    <tr>
                        <td {%= !r.showBtn ? 'colspan="2"' : "" %}>
                          <div><span class="label">from:</span> <span>{%= r.from %}</span></div>
                          <div><span class="label">reason:</span> <span>{%= r.reason %} {%= r.explain ? "(" + r.explain + ")" : "" %}</span></div>
                        </td>
                        <!-- {% if (r.showBtn) { %} -->
                        <td>
                          <a class="list_button buttontn_remove" onclick="ViewsSection.viewResultsURLCell.runView();"><span>
                            Run Query Again
                          </span></a>
                        </td>
                        <!-- {% } %} -->
                    </tr>
                  <!-- {% }); %} -->
                  </tbody>
                <!-- {% } %} -->
                <!-- {% if (!errors || rows.length) { %} -->
                <tr>
                    <th class="keycol">Key</th>
                    <th>Value</th>
                </tr>
                <!-- {% } %} -->
              <!-- {% if (!rows.lackOfValue) { %} -->
                <!-- {% if (rows.length) { %}
                <!-- {% _.each(rows, function (r) { %} -->
                  <tbody>
                  <tr>
                      <td class="keycol">
                          <div class="key ellipsis" title="{%= h(JSON.stringify(r.key)) %}">{%= h(JSON.stringify(r.key)) %}</div>
                          {% if (h(r.id) !== "undefined") { %}
                            <a class="id ellipsis sample-document-link" data-sample-doc-id="{%= h(r.id) %}" href="#">{%= h(r.id) %}</a>
                          {% } else { %}
                            <div class="id ellipsis">{%= h(r.id) %}</div>
                          {% } %}
                      </td>
                      <td class="ellipsis">{%= $.futon.formatJSON(r.value, {html:true}) %}</td>
                  </tr>
                  </tbody>
                <!-- {% }); %} -->
                <!-- {% } else { %} -->
                  <!--{% if (!errors) { %} -->
                    <tr>
                        <td colspan="2" style="text-align:center">The results of this view is empty.</td>
                    </tr>
                  <!-- {% } %} -->
                <!-- {% } %} -->
              <!-- {% } else { %} -->
                <tbody>
                <tr><td colspan="2" style="text-align:center">To see the results of this view, click "Show Results" above.</td></tr>
                </tbody>
              <!-- {% } %} -->
              </table>
                </script>
            </div>

            <div id="spatial_results_block" class="results_block" style="display:none;">
              <div id="spatial_filter_container" class="filter_container"></div>
              <a id="spatial_run_button" class="run_button btn_1 bt_marg"><span>Show Results</span></a>
              <span class="ic_prev_next">
                <a class="arr_prev"></a>
                <a class="arr_next"></a>
              </span> <!--/ic_prev_next-->
              <div class="clr"></div>
              <!--/filter result-->
              <div class="shadow_box">
                <ul class="tabs dev-subset-switcher when-in-dev">
                  <li class="tab_left"><a class="subset_dev">Development Time Subset</a></li>
                  <li class="tab_right"><a class="subset_prod">Full Cluster Data Set</a></li>
                </ul>
                <div id="spatial_results_spinner" class="spinner" style="height:100px;line-height:100px;display:none;"><span>Loading...</span></div>
                <div id="spatial_results_container" class="content c_result"></div>
              </div>
              <script id="spatial_results_template" type="text/html">
              <table class="list align_text" style="width:100%">
                <tr>
                    <th class="keycol">Key</th>
                    <th class="keycol">Geometry</th>
                    <th>Value</th>
                </tr>
              <!-- {% if (!rows.lackOfValue) { %} -->
                <!-- {% _.each(rows, function (r) { %} -->
                <tbody>
                <tr>
                    <td class="keycol">
                        <div class="key">{%= h(JSON.stringify(r.key)) %}</div>
                        {% if (h(r.id) !== "undefined") { %}
                          <a class="id ellipsis sample-document-link" data-sample-doc-id="{%= h(r.id) %}" href="#">{%= h(r.id) %}</a>
                        {% } else { %}
                          <div class="id ellipsis">{%= h(r.id) %}</div>
                        {% } %}
                    </td>
                    <td>{%= h(JSON.stringify(r.geometry)) %}</td>
                    <td>{%= $.futon.formatJSON(r.value, {html:true}) %}</td>
                </tr>
                </tbody>
                <!-- {% }); %} -->
              <!-- {% } else { %} -->
                <tbody>
                <tr><td colspan="3" style="text-align:center">To see the results of this view, click "Show Results" above.</td></tr>
                </tbody>
              <!-- {% } %} -->
              </table>
                </script>
            </div>

          </div>
        </div>
        </div>

        <script id="js_indexes_list_template" type="text/html">
          <table class="list align_text" style="width:100%">
            <thead>
              <tr>
                <th data-sortby="bucket" style="width: 200px;">Bucket</th>
                <th data-sortby="hosts" style="width: 350px;">Node</th>
                <th data-sortby="index" style="width: 200px;">Index Name</th>
                <th data-sortby="status">Status</th>
                <th data-sortby="progress" style="width: 150px;">Initial Build Progress</th>
              </tr>
            </thead>
            <tbody>
              {% if (rows.length) { %}
                {% _.each(rows, function (row) { %}
                  <tr class="row">
                    <td class="ellipsis with_expander_button" title="{%= h(row.bucket) %}">
                      <a href="#openIndex={%= h(row.id) %}"><ins class="expander closed"></ins></a>
                      <span>{%= h(row.bucket) %}</span>
                    </td>
                    <td class="ellipsis" title="{%= h(row.hosts[0]) %}">{%= h(row.hosts[0]) %}</td>
                    <td class="ellipsis" title="{%= h(row.index) %}">{%= h(row.index) %}</td>
                    <td class="ellipsis" title="{%= h(row.status) %}">{%= h(row.status) %}</td>
                    <td class="ellipsis" title="{%= h(row.progress) %}">
                      {%= (row.progress !== undefined) ? h(row.progress + "%") : "" %}
                    </td>
                  </tr>
                  <tr>
                    <td colspan="5" class="details-placeholder" style="display:none;">
                      {%= IndexesSection.renderIndexDetails(row) %}
                    </td>
                  </tr>
                {% }); %}
              {% } else { %}
                <tr><td colspan="5" style="text-align: center;">There are no indexes currently.</td></tr>
              {% } %}
            </tbody>
          </table>
        </script>
        <script id="index_details_template" type="text/html">
          <div class="gong_rb">
          <table class="properties_table">
            <tbody>
              <tr>
                  <td>Definition: <span>{%= definition %}</span></td>
              </tr>
            </tbody>
          </table>
          </div>
        </script>

        <script id="js_index_warnings_template" type="text/html">
          {% _.each(warnings, function (message) { %}
            <div class="warning_message">
              Warning: {%= h(message) %}
            </div>
          {% }); %}
        </script>

        <div id="js_indexes" class="indexes" style="display:none">
          <div id="js_index_warnings_container"></div>
          <div class="shadow_box">
            <div class="header_2">
              <h4 style="float:left;line-height:34px;">Indexes</h4>
              <span class="staleness-notice">Difficulties communicating with the cluster; displaying cached information!</span>
            </div>
            <div>
              <div id="js_indexes_list_container" class="servers_list indexes_list_container"></div>
            </div>
          </div>
        </div>

        <div id="js_replications" class="replications" style="display:none">
          <h1>Replications</h1>
          <!-- Clusters -->
          <div id="cluster_references" class="shadow_box">
            <div class="darker_block js_darker_block" style="font-size:13px;">
              <h3 class="js_block-expander block-expander">
                <ins></ins><span class="view_head">Remote Clusters</span>
                <span class="buttons">
                  <a class="btn_1 when-roadmin-hide-me" id="create_cluster_reference">
                    <span>Create Cluster Reference</span>
                  </a>
                </span>
              </h3>

              <div class="stats" id="cluster_reference_list_container">
              </div>
              <script id="cluster_reference_list_template" type="text/html">
              <table class="list casper_remout_cluster_container" style="width:100%">
                <tr>
                  <th>Name</th>
                  <th>IP/hostname</th>
                  <th></th>
                </tr>
                <!-- {% if (rows.length > 0) { %} -->
                <!-- {% _.each(rows, function (r) { %} -->
                <tr data-name="{%= h(r.name) %}">
                  <td>{%= h(r.name) %}</td>
                  <td><a href="{%= window.location.protocol +'//'+ h(r.hostname) + '/index.html#sec=analytics&amp;statsHostname=' + h(encodeURIComponent(r.hostname)) %}" target="blank">{%= h(r.hostname) %}</a></td>
                  <td>
                    <a class="list_button delete-button when-roadmin-avoid-me"><span>Delete</span></a>
                    <a class="list_button edit-button when-roadmin-avoid-me"><span>Edit</span></a>
                  </td>
                </tr>
                <!-- {% }); %} -->
                <!-- {% } else { %} -->
                <tr><td colspan="3" style="text-align:center">No cluster references defined. <span class="when-roadmin-avoid-me">Please create one.</span></td></tr>
                <!-- {% } %} -->
              </table>
              </script>
            </div>
          </div>

          <!-- Ongoing Replications -->
          <div id="ongoing_replications" class="shadow_box">
            <div class="darker_block" style="font-size:13px;">
              <h3>
                <span class="view_head" style="padding-left: 0">Ongoing Replications</span>
                <span class="buttons">
                  <a class="btn_1 when-roadmin-hide-me" id="create_replication">
                    <span>Create Replication</span>
                  </a>
                </span>
              </h3>

              <div class="stats ongoing_replications_list" id="ongoing_replications_list_container">
              </div>
              <script id="ongoing_replications_list_template" type="text/html">
              <table class="list" style="width:100%">
              <colgroup>
                <col class="bucket">
                <col class="protocol">
                <col class="from">
                <col class="to">
                <col class="filter when-enterprise">
                <col class="status">
                <col class="when">
              </colgroup>
              <tbody>
                <tr>
                  <th>Bucket</th>
                  <th>Protocol</th>
                  <th>From</th>
                  <th>To</th>
                  <th class="when-enterprise">Filtered</th>
                  <th>Status</th>
                  <th>When</th>
                  <th></th>
                </tr>
                <!-- {% if (rows.length > 0) { %} -->
                <!-- {% _.each(rows, function (r) { %} -->
                <tr class="row">
                  <td>{%= h(r.bucket) %}</td>
                  <td>{%= h(r.protocol) %}</td>
                  <td style="color:#777">this cluster</td>
                  <td>{%= h(r.to) %}</td>
                  <td class="when-enterprise">
                    {% if (r.filterExpression) { %}
                      <a class="tooltip text_11"><span>Yes</span>
                        <span class="tooltip_msg break-word" style="width:200px;"><span>
                          {%= r.filterExpression %}
                        </span></span>
                      </a>
                    {% } else { %}
                      No
                    {% } %}
                  </td>
                  <td class="replication_status_cell">
                    <span>{%= V.formatReplicationStatus(r) %}</span>
                  </td>
                  <td>{%= h(r.when) %}</td>
                  <td>
                    <a class="list_button when-roadmin-avoid-me" href="#deleteReplication={%=h(encodeURIComponent(r.cancelURI))%}"><span>Delete</span></a>
                    <span class="list_button when-roadmin-avoid-me js_per_xdcr_settings"><span>Edit</span></span>
                  </td>
                </tr>
                <!-- {% }); %} -->
                <!-- {% } else { %} -->
                <tr><td colspan="9" style="text-align:center">There are no
                replications currently in progress.</td></tr>
                <!-- {% } %} -->
              </tbody>
              </table>
              </script>
            </div>
          </div>
        </div>

        <div id="js_documents" class="documents" style="display:none">
          <div class="doc_header">
            <div class="wrap">
              <select id="docs_buckets_select"></select> &gt; <a id="bread_crump_doc">Documents</a>
            </div>
            <div class="items_per_list_wrap">
                <select>
                  <option value="5">5</option>
                  <option value="10">10</option>
                  <option value="20">20</option>
                  <option value="50">50</option>
                  <option value="100">100</option>
                </select>
            </div>
            <div class="ic_prev_next">
              <a class="arr_prev dynamic_disabled"></a>
              <a class="arr_next dynamic_disabled"></a>
            </div>
            <div class="docs_info">
              Current page: <span class="docs_crnt_pg">1</span>
            </div>
          </div>

          <div id="documents_details" style="display:none;" class="documents_details">
            <div class="warning_message documents_notice"></div>
            <div class="shadow_box">
              <div class="header_2 servers_header">
                <div class="docs_title ellipsis"></div>
                <div class="editing_ctrls when-roadmin-hide-me">
                  <a class="btn_1 dynamic_disabled" id="doc_delete"><span>Delete</span></a>
                  <a class="btn_1 dynamic_disabled" id="doc_saveas"><span>Save As...</span></a>
                  <a class="btn_1 btn_save dynamic_disabled" id="doc_save"><span>Save</span></a>
                  <span class="staleness-notice">Difficulties communicating with the cluster; displaying cached information!</span>
                </div>
              </div>
              <textarea id="json_doc" spellcheck="false" cols="20" rows="11"></textarea>
            </div>
          </div>

          <div id="documents_list">
            <div class="warning_message documents_notice"></div>
            <div class="shadow_box">
              <div class="header_2 servers_header">
                <div class="docs_title"></div>
                <div class="editing_ctrls">
                  <form id="search_doc" action="#">
                    <input type="text" id="docs_lookup_doc_by_id"
                           placeholder="Document ID" disabled >
                    <button type="submit" class="btn_1 dynamic_disabled" id="docs_lookup_doc_by_id_btn">
                      <span>Lookup Id</span>
                    </button>
                  </form>
                  <a class="btn_1 btn_create dynamic_disabled when-roadmin-avoid-me"><span>Create Document</span></a>
                  <span class="staleness-notice">Difficulties communicating with the cluster; displaying cached information!</span>
                </div>
              </div>

              <div id="documents_list_container">Documents</div>
              <div class="ic_prev_next bottom">
                <a class="arr_prev dynamic_disabled"></a>
                <a class="arr_next dynamic_disabled"></a>
              </div>
              <script id="documents_list_template" type="text/html">
                <table class="list" style="width:100%">
                  <thead>
                    <tr>
                      <th class="keycol">ID</th>
                      <th>&#160;</th>
                      <th>Сontent</th>
                      <th>&#160;</th>
                      <th>&#160;</th>
                      <th>&#160;</th>
                      <th>&#160;</th>
                      <th>&#160;</th>
                      <th>&#160;</th>
                      <th>&#160;</th>
                    </tr>
                  </thead>
                  <tbody>
                  <!-- {% if (loading) { %} -->
                      <tr>
                        <td colspan="10" class='spinner'><span>Loading...</span></td>
                      </tr>
                  <!-- {% } else if (rows.length > 0) { %} -->
                  <!-- {% _.each(rows, function (r) { %} -->
                      <tr class="align_text">
                          <td class="key ellipsis" colspan="2">
                            <a href="#sec=documents&viewsBucket={%= encodeURIComponent(bucketName) %}&documentsPageNumber={%= pageNumber %}&docId={%= encodeURIComponent(r.id) %}">{%= h(r.id) %}</a>
                          </td>
                          <td class="ellipsis" colspan="5">{%= $.futon.formatJSON(r.doc.json || r.doc.base64, {html:true}) %}</td>
                          <td colspan="3">
                            <button class="list_button delete_btn when-roadmin-avoid-me" data-id="{%= h(r.id) %}"><span>Delete</span></button>
                            <a href="#sec=documents&viewsBucket={%= encodeURIComponent(bucketName) %}&documentsPageNumber={%= pageNumber %}&docId={%= encodeURIComponent(r.id) %}" class="list_button btn_edit"><span>Edit Document</span></a></td>
                      </tr>
                  <!-- {% }); %} -->
                <!-- {% } else { %} -->
                  <tr>
                    <td colspan="10" class="empty_docs">There are currently no documents in this bucket{%= searchCriteria ? ' corresponding to the search criteria' : '.' %}</td>
                  </tr>
                <!-- {% } %} -->
                </tbody>
                </table>
              </script>
            </div>
          </div>
        </div>

        <div id="js_coming" class="coming" style="display:none">
          <h1>UI error encountered. This content does not exist yet.</h1>
        </div>
      </div>
    </div>
    <!-- mainContainer -->

    <div class="page-footer">
      <div class="main_holder">
        <h1>Copyright &copy; 2016 <a href="http://couchbase.com" target="_blank">Couchbase, Inc.</a> All rights reserved.</h1>
      </div>
    </div>
  </div>
  <!-- #container -->

<!-- dialogs -->
<div class="dialog internal_settings_dialog really" id="internal_settings_dialog">
  <form>
    <fieldset>
      <input type="hidden" name="indexAwareRebalanceDisabled" value="false">
      <input type="hidden" name="rebalanceIndexWaitingDisabled" value="false">
      <input type="hidden" name="rebalanceIndexPausingDisabled" value="false">
      <input type="hidden" name="rebalanceIgnoreViewCompactions" value="false">
      <input type="hidden" name="indexAutoFailoverDisabled" value="false">
      <input type="hidden" name="certUseSha1" value="false">
      <label><span class="cursor_helper" title="When not disabled makes sure indexes are always up-to-date during rebalance">Disable view-index aware rebalance</span><input type="checkbox" name="indexAwareRebalanceDisabled" value="true"></label>
      <label><span class="cursor_helper" title="Whether index aware rebalance waiting for index up-to-dateness should be disabled. Makes rebalance faster">Disable view-index waiting during rebalance</span><input type="checkbox" name="rebalanceIndexWaitingDisabled" value="true"></label>
      <label><span class="cursor_helper" title="That's too complex to explain">Disable view-index pausing during rebalance</span><input type="checkbox" name="rebalanceIndexPausingDisabled" value="true"></label>
      <label><span>Don't compact views during rebalance</span><input type="checkbox" name="rebalanceIgnoreViewCompactions" value="true"></label>
      <label><span>Do not failover Index service automatically.</span><input type="checkbox" name="indexAutoFailoverDisabled" value="true"></label>
      <label><span>Max in-/out-going backfills per node<br> during rebalance</span><input maxlength="5" style="width:1.5em;" name="rebalanceMovesPerNode"></label>
      <label><span>VBucket moves per node<br>before forced view compaction</span><input maxlength="5" style="width:1.5em;" name="rebalanceMovesBeforeCompaction"></label>
      <label><span>Max parallel main view-index tasks per node</span><input maxlength="5" style="width:1.5em;" name="maxParallelIndexers"></label>
      <label><span>Max parallel replica view-index tasks per node</span><input maxlength="5" style="width:1.5em;" name="maxParallelReplicaIndexers"></label>
      <label><span>Maximum Bucket Count</span><input maxlength="3" style="width:1.5em;" name="maxBucketCount"></label>
      <label class="when-goxdcr-disabled"><span>XDCR Max Replications per Bucket</span><input maxlength="5" style="width:1.5em;" name="xdcrMaxConcurrentReps"></label>
      <label class="when-goxdcr-enabled"><span>XDCR Source Nozzles per Node</span><input maxlength="5" style="width:1.5em;" name="xdcrSourceNozzlePerNode"></label>
      <label class="when-goxdcr-enabled"><span>XDCR Target Nozzles per Node</span><input maxlength="5" style="width:1.5em;" name="xdcrTargetNozzlePerNode"></label>
      <label><span>XDCR Checkpoint Interval</span><input maxlength="5" style="width:2.5em;" name="xdcrCheckpointInterval"></label>
      <label><span>XDCR Batch Count</span><input maxlength="5" style="width:2.5em;" name="xdcrWorkerBatchSize"></label>
      <label><span>XDCR Batch Size (kB)</span><input maxlength="6" style="width:2.5em;" name="xdcrDocBatchSizeKb"></label>
      <label><span>XDCR Failure Retry Interval</span><input maxlength="3" style="width:1.5em;" name="xdcrFailureRestartInterval"></label>
      <label class="when-goxdcr-enabled"><span>XDCR Statistics Collection Interval (ms)</span><input maxlength="5" style="width:1.5em;" name="xdcrStatsInterval"></label>
      <label class="when-goxdcr-enabled"><span>XDCR Logging Level</span>
      <select name="xdcrLogLevel">
          <option value="Info">Info</option>
          <option value="Debug">Debug</option>
          <option value="Trace">Trace</option>
          <option value="Error">Error</option>
        </select>
        </label>
      <label><span>XDCR Optimistic Replication Threshold</span><input maxlength="6" style="width:2.5em;" name="xdcrOptimisticReplicationThreshold"></label>

      <label><span>Simultaneous REST requests limit</span><input maxlength="6" style="width:2.5em;" name="restRequestLimit"></label>
      <label><span>Simultaneous CAPI requests limit</span><input maxlength="6" style="width:2.5em;" name="capiRequestLimit"></label>
      <label><span>Drop requests after this much memory is used (MiB)</span><input maxlength="6" style="width:2.5em;" name="dropRequestMemoryThresholdMiB"></label>
      <label><span>GOTRACEBACK</span><input style="width:2.5em;" name="gotraceback"></label>
      <label class="when-goxdcr-disabled"><span>XDCR anticipatory delay (ms)</span><input maxlength="6" style="width:2.5em;" name="xdcrAnticipatoryDelay"></label>
      <label><span class="cursor_helper" title="When enabled forces sha1 signature algorithm during ssl certificates generation">Use sha1 in ssl certificates</span><input type="checkbox" name="certUseSha1" value="true"></label>
    </fieldset>
    <div class="save_cancel">
      <button class="save_button float_right" type="submit">Save</button>
      <a class="close casper_internal_settings_close">Cancel</a>
    </div>
  </form>
</div>

<div class="dialog bucket_details" id="bucket_details_dialog">
  <h1>
    <span class="when-editing">Configure Bucket</span>
    <span class="when-creating">Create Bucket</span>
  </h1>
  <form>
    <div class="clearfix">
      <h2>Bucket Settings</h2>
      <div class="bucket-icon sub_section">
        <div>
          <label for="bucket_details_bucket_name_input">Bucket Name:</label>
          <input disabled name="name" value="Bucket Name" id="bucket_details_bucket_name_input">
          <span class="error-container err-name"></span>
        </div>
        <div>
          <label>Bucket Type:</label>
          <div class="with_radiogroup">
            <div>
              <input type="radio" name="bucketType" value="membase" id="bucket_type_membase">
              <label for="bucket_type_membase">Couchbase</label>
            </div>
            <div>
              <input type="radio" name="bucketType" value="memcached" id="bucket_type_memcached">
              <label for="bucket_type_memcached">Memcached</label>
            </div>
          </div>
        </div>
      </div>

      <h2>Memory Size</h2>
      <div class="sub_section" style="margin-right: 0;">
        <div class="for-ram-quota">
          <div class="size-gauge for-ram">
            <div class="top-right">Cluster quota (0 MB)</div>
            <div class="usage">
              <div style="width:100%;background-color:#E1E2E3"></div>
            </div>
            <table style="width:100%;">
              <tbody>
                <tr><td style="text-align:left;color:#1878a2;">Other Buckets (0 B)</td><td style="text-align:center;color:#409f05;">This Bucket (0 MB)</td><td style="text-align:right;color:#444245;">Free (0 MB)</td></tr>
              </tbody>
            </table>
          </div>
          <div class="gauge-label">
            <label for="ram_quota_mb">Per Node RAM Quota:</label>
            <input name="ramQuotaMB" type="text" value="30" id="ram_quota_mb">
            <abbr>MB</abbr>
          </div>
        </div>
        <div class="error-container err-ramQuotaMB"></div>
        <p class="memcached-summary when-non-persistent"></p>
        <div class="cache_metadata_block persistent-only">
          <label>Cache Metadata:</label>
          <div class="with_radiogroup">
            <div>
              <input type="radio" name="evictionPolicy" value="valueOnly" id="cache_metadata_retain_new" checked="checked">
              <label for="cache_metadata_retain_new">Value Ejection</label>
            </div>
            <div>
              <input type="radio" name="evictionPolicy" value="fullEviction" id="cache_metadata_non_retain_new">
              <label for="cache_metadata_non_retain_new">Full Ejection</label>
            </div>
          </div>
          <a class="tooltip text_11"><span>What's this?</span>
            <span class="tooltip_msg" style="width:350px;"><span>
              Value Ejection - During ejection, only the value will be ejected (key and metadata will remain in memory).
              Full Ejection - During ejection, everything (including key, metadata and value) will be ejected.
              Value Ejection needs more system memory but provides the best performance. Full Ejection reduces memory overhead requirement.
            </span></span>
          </a>
        </div>
      </div>

      <h2>Access Control</h2>
      <div class="sub_section">
        <div>
          <input id="js_bucket_details_sasl_selected" type="radio" name="authType" value="sasl" checked>
          <div class="with_radiogroup">
            <label for="js_bucket_details_sasl_selected">
              <span class="when-default">Standard port (TCP port 11211. ASCII protocol or Binary auth-less)</span>
              <span class="when-not-default">Standard port (TCP port 11211. Needs SASL auth.)</span>
            </label>
            <div class="when-not-default">
              <label for="js_bucket_details_sasl_password">Enter password:</label>
              <input type="password" name="saslPassword" id="js_bucket_details_sasl_password" disabled value="">
              <div class="error-container err-saslPassword"></div>
            </div>
          </div>
        </div>
        <div>
          <input type="radio" name="authType" value="none" id="js_bucket_details_auth_type">
          <div class="with_radiogroup">
            <label for="js_bucket_details_auth_type">Dedicated port (supports ASCII protocol and is auth-less)</label>
            <div>
              <label for="js_bucket_details_proxy_port">Protocol Port:</label>
              <input id="js_bucket_details_proxy_port" name="proxyPort" style="width:50px">
              <span class="error-container err-proxyPort"></span>
            </div>
          </div>
        </div>
      </div>

      <div class="persistent-only">
        <h2>Replicas</h2>
        <div class="sub_section replicas_settigns">
          <input type="checkbox" checked id="for-enable-replicas" class="js_for-enable-replicas">
          <label for="for-enable-replicas">Enable</label>
          <input class="hidden-replica-number" type="hidden" name="replicaNumber" value="0" disabled>
          <div class="for-replica-number">
            <select name="replicaNumber" id="label_for-replica-number">
              <option value="1">1</option><option value="2">2</option><option value="3">3</option>
            </select>
            <label for="label_for-replica-number">Number of replica (backup) copies</label>
          </div>
          <div class="error-container err-replicaNumber"></div>
          <div></div>
          <input type="hidden" name="replicaIndex" value="0">
          <input type="checkbox" name="replicaIndex" value="1" id="label_replica_index_flag">
          <label for="label_replica_index_flag">View index replicas</label>
        </div>
      </div><!-- .persistent-only -->

      <div class="persistent-only bucket-io-priority">
        <h2>Disk I/O Optimization</h2>
        <div class="sub_section">
          <label>Set the bucket disk I/O priority:</label>
          <div class="with_radiogroup">
            <div>
              <input type="radio" name="threadsNumber" value="3" checked="checked" id="low_threads_number">
              <label for="low_threads_number">Low (default)</label>
            </div>
            <div>
              <input type="radio" name="threadsNumber" value="8" id="hight_threads_number">
              <label for="hight_threads_number">High</label>
            </div>
          </div>
          <a class="tooltip text_11"><span>What's this?</span>
            <span class="tooltip_msg" style="width:200px;"><span>
                This is an advanced setting for Disk I/O optimization which allows tasks to be handled based on priority.
            </span></span>
          </a>
        </div>
      </div> <!-- .persistent-only -->

    <div class="bucket_details_auto_compaction persistent-only" id="js_bucket_auto_compaction_settings">
      <h2>Auto-Compaction</h2>
      <div class="sub_section">
        <p>Auto-Compaction settings trigger the compaction process. The process compacts databases and their respective view indexes when the following conditions are met.</p>

        <ul>
          <li><input type="hidden" name="autoCompactionDefined" value="false" />
            <label><input type="checkbox" name="autoCompactionDefined" value="true" /> Override the default auto-compaction settings?</label>
          </li>
        </ul><ul class="autocompaction-settings">
          <li><h4>Database Fragmentation</h4></li>
          <li id="js_database_fragmentation_bucket_settings" class="database"></li>
          <li><h4>View Fragmentation</h4></li>
          <li id="js_view_fragmentation_bucket_settings" class="view">
          <li><h4>Time Interval</h4></li>
          <li class="period">
            <span class="toggle">
              <input type="checkbox" id="period_check" class="check-for-allowedTimePeriod"/> <label for="period_check">Set the time interval for when compaction is allowed to run</label>
            </span><br>
            <span class="input_wrapper">
              Start Time:
              <input id="2cbc1fe9-d580-4126-9c7e-777fe7adf233" name="allowedTimePeriod[fromHour]" type="number" min="0" max="23" placeholder="HH" />:<input name="allowedTimePeriod[fromMinute]" type="number" min="0" max="59" placeholder="MM" />
              End Time: <input name="allowedTimePeriod[toHour]" type="number" min="0" max="23" placeholder="HH" />:<input name="allowedTimePeriod[toMinute]" type="number" min="0" max="59" placeholder="MM" />
            </span>
            <div class="error-container err-allowedTimePeriod"></div>
            <div class="error-container err-allowedTimePeriod-fromHour-"></div>
            <div class="error-container err-allowedTimePeriod-fromMinute-"></div>
            <div class="error-container err-allowedTimePeriod-toHour-"></div>
            <div class="error-container err-allowedTimePeriod-toMinute-"></div>
            <div>
              <input type="hidden" name="allowedTimePeriod[abortOutside]" value="false" />
              <input id="66fdfb02-6c6f-453e-9ae3-fa011ecd42c0" type="checkbox" name="allowedTimePeriod[abortOutside]" value="true" />
              <label for="66fdfb02-6c6f-453e-9ae3-fa011ecd42c0">Abort compaction if run time exceeds the set time interval</label>
              <div class="error-container err-allowedTimePeriod-abortOutside-"></div>
            </div>
          </li>
          <li>
            <input type="hidden" name="parallelDBAndViewCompaction" value="false" />
            <input id="089ccca1-8688-41f9-a126-71a871b2ecf6" type="checkbox" name="parallelDBAndViewCompaction" value="true" />
            <label for="089ccca1-8688-41f9-a126-71a871b2ecf6">Process Database and View compaction in parallel</label>
            <div class="error-container err-parallelDBAndViewCompaction"></div>
          </li>
          <li><h4>Metadata Purge Interval</h4></li>
          <li>
            <label for="c80016fb-f7dc-4035-a45e-ac692ae2a790">Set the frequency of metadata purge interval:</label>
            <input id="c80016fb-f7dc-4035-a45e-ac692ae2a790" name="purgeInterval" style="width:2.5em;">
            <span>Range 0.04 (1 H) - 60days</span>
            <div class="error-container err-purgeInterval" style="display: inline; padding-left: 0; float: none;"></div>
          </li>
        </ul>
      </div>
    </div> <!-- .auto_compaction -->

      <h2>Flush</h2>
      <div class="sub_section">
        <input type="hidden" name="flushEnabled" value="0">
        <input type="checkbox" class="for-enable-flush" id="for-enable-flush-new" name="flushEnabled" value="1">
        <label for="for-enable-flush-new">Enable</label>
        <a class="tooltip text_11" style="margin-left:30px;"><span>What's this?</span>
          <span class="tooltip_msg" style="width:218px;"><span>
            When flushed, items in memcached buckets are flagged for removal and subsequently removed; items in couchbase buckets are immediately removed. This does not affect the item count immediately.
          </span></span>
        </a>
      </div>
    </div>

    <div class="save_cancel">
      <button class="save_button float_right when-roadmin-hide-me" type="submit">
        <span class="when-editing">Save</span>
        <span class="when-creating">Create</span>
      </button>
      <span class="when-editing when-roadmin-hide-me">
        <button class="delete_button">Delete</button>
        <button class="flush_button">Flush</button>
      </span>
      <a class="close">Cancel</a>
    </div>
  </form>
</div>

<div class="dialog" id="bucket_flush_dialog" title="Flushing">
  <form>
    <div class="clearfix">
      <div class="err">
        <p>Flushing this bucket will result in complete data loss for this bucket. <br/>Are you sure you want to flush it?</p>
      </div>
    </div>
    <div class="save_cancel clearfix">
      <button onClick="BucketsSection.flushCurrentBucket();" type="button" class="flush_button float_right">Flush</button>
      <a class="close">Cancel</a>
    </div>
  </form>
</div>

<div class="dialog" id="bucket_change_warning_dialog" title="Warning">
  <form>
    <div class="clearfix">
      <div class="err">
        <p class="js-text"></p>
      </div>
    </div>
    <div class="save_cancel clearfix">
      <button type="button" class="save_button float_right">Continue</button>
      <a class="close">Cancel</a>
    </div>
  </form>
</div>

<div class="dialog" id="bucket_remove_dialog" title="Removing">
  <form>
    <div class="clearfix">
      <div class="err">
        <p>Removing this bucket will result in complete data loss for this bucket. <br/>Are you sure you want to remove it?</p>
      </div>
    </div>
    <div class="save_cancel clearfix">
      <button onClick="BucketsSection.removeCurrentBucket();" type="button" class="delete_button float_right">Delete</button>
      <a class="close">Cancel</a>
    </div>
  </form>
</div>

<div class="dialog" id="js_roadmin_remove_dialog" title="Removing">
  <form>
    <div class="clearfix">
      <div class="err">
        <p>Are you sure you want to remove <span class="js_roadmin_name"></span>?</p>
      </div>
    </div>
    <div class="save_cancel clearfix">
      <button type="button" class="delete_button float_right js_delete_button casper_settings_roadmin_remove_click">Delete</button>
      <a class="close">Cancel</a>
    </div>
  </form>
</div>

<div class="dialog" id="js_roadmin_reset_dialog" title="Reset Password">
  <form id="js_reset_roadmin_form" class="reset_roadmin_form">
    <div class="inner_wrap">
      <i class="errors js_error_password"></i>
      <label for="new_roa_pass" style="width:auto">New Password:</label>
      <input type="password" name="password" id="new_roa_pass">
    </div>
    <div class="save_cancel clearfix">
      <button type="submit" class="save_button float_right">Create</button>
      <a class="close casper_roadmin_reset_dialog_cancel">Cancel</a>
    </div>
  </form>
</div>

<div class="xdcr_advaced_settings dialog" id="js_per_xdcr_settings_dialog" title="Advanced Settings">
  <form>
    <div>
      <div class="when-goxdcr-disabled">
        <label for="per_max_concurrent_reps">XDCR Max Replications per Bucket:</label>
        <input type="text" id="per_max_concurrent_reps" name="maxConcurrentReps">
        <i class="error js_error js_maxConcurrentReps"></i>
      </div>
      <div class="when-goxdcr-disabled">
        <label for="per_worker_processes_setting">XDCR workers per Replication:</label>
        <input type="text" id="per_worker_processes_setting" name="workerProcesses">
        <i class="error js_error js_workerProcesses"></i>
      </div>
      <div class="when-goxdcr-enabled">
        <label for="per_source_nozzle_per_node">XDCR Source Nozzles per Node:</label>
        <input type="text" id="per_source_nozzle_per_node" name="sourceNozzlePerNode">
        <i class="error js_error js_sourceNozzlePerNode"></i>
      </div>
      <div class="when-goxdcr-enabled">
        <label for="rep_target_nozzle_per_node">XDCR Target Nozzles per Node:</label>
        <input type="text" id="rep_target_nozzle_per_node" name="targetNozzlePerNode">
        <i class="error js_error js_targetNozzlePerNode"></i>
      </div>
      <div>
        <label for="per_checkpoint_interval">XDCR Checkpoint Interval:</label>
        <input type="text" id="per_checkpoint_interval" name="checkpointInterval">
        <i class="error js_error js_checkpointInterval"></i>
      </div>
      <div>
        <label for="per_worker_batch_size">XDCR Batch Count:</label>
        <input type="text" id="per_worker_batch_size" name="workerBatchSize">
        <i class="error js_error js_workerBatchSize"></i>
      </div>
      <div>
        <label for="per_doc_batch_size_kb">XDCR Batch Size (kB):</label>
        <input type="text" id="per_doc_batch_size_kb" name="docBatchSizeKb">
        <i class="error js_error js_docBatchSizeKb"></i>
      </div>
      <div>
        <label for="per_failure_restart_interval">XDCR Failure Retry Interval:</label>
        <input type="text" id="per_failure_restart_interval" name="failureRestartInterval">
        <i class="error js_error js_failureRestartInterval"></i>
      </div>
      <div>
        <label for="per_optimistic_replication_threshold">XDCR Optimistic Replication Threshold:</label>
        <input type="text" id="per_optimistic_replication_threshold" name="optimisticReplicationThreshold">
        <i class="error js_error js_optimisticReplicationThreshold"></i>
      </div>
      <div class="when-goxdcr-enabled">
        <label for="per_statistics_collection_interval">XDCR Statistics Collection Interval (ms):</label>
        <input type="text" id="per_statistics_collection_interval" name="statsInterval">
        <i class="error js_error js_statsInterval"></i>
      </div>
      <div class="when-goxdcr-enabled">
        <label for="per_logging_level">XDCR Logging Level:</label>
        <select name="logLevel" id="per_logging_level">
          <option value="Info">Info</option>
          <option value="Debug">Debug</option>
          <option value="Trace">Trace</option>
          <option value="Error">Error</option>
        </select>
        <i class="error js_error js_logLevel"></i>
      </div>
    </div>
    <div class="save_cancel clearfix">
      <button type="submit" class="save_button float_right">Save</button>
      <a class="close">Cancel</a>
    </div>
  </form>
</div>

<!-- Create Document -->
<div class="dialog join_cluster" id="create_document_dialog" title="Create Document" style="width:400px">
  <span class="warning pat_10" style="display:none;"></span>
  <form>
    <fieldset style="padding-top:10px">
      <ul>
        <li>
          <label for="new_doc_id" style="width:auto">Document ID:</label>
          <input type="text" name="id" id="new_doc_id" />
        </li>
      </ul>
    </fieldset>
    <div class="save_cancel clearfix">
      <button type="submit" class="save_button float_right">Create</button>
      <a class="close">Cancel</a>
    </div>
  </form>
</div>
<!-- END Create Document -->
<!-- END Save Document as -->
<div class="dialog join_cluster" id="save_documentas_dialog" title="Save Document As" style="width:400px">
  <form>
    <fieldset style="padding-top:10px">
      <ul>
        <li>
          <label for="new_doc_id" style="width:auto">Document ID:</label>
          <input type="text" name="id" id="saveas_id" />
        </li>
      </ul>
    </fieldset>
    <div class="save_cancel clearfix">
      <button type="submit" class="save_button float_right">Save As</button>
      <a class="close">Cancel</a>
    </div>
  </form>
</div>
<!-- END Save Document as -->

<div class="dialog" id="js_add_group_dialog" style="width: 331px;" title="Create Group">
  <form id="js_add_group_form" class="add_group_form">
    <div class="inner_wrap">
      <i class="warning js_error_group"></i>
      <label for="js_new_group_filed" style="width:auto">Group Name:</label>
      <input type="text" name="group" id="js_new_group_filed">
    </div>
    <div class="save_cancel clearfix">
      <button type="submit" class="save_button float_right">Create</button>
      <a class="close casper_close_add_group_dialog">Cancel</a>
    </div>
  </form>
</div>

<div class="dialog casper_remove_group_dialog" id="js_remove_group_dialog" title="Removing Server Group">
  <form>
    <div class="clearfix">
      <div class="err">
        <p>Are you sure you want to remove the Server group?</p>
      </div>
    </div>
    <div class="save_cancel clearfix">
      <button type="button" class="delete_button float_right js_delete_button">Delete</button>
      <a class="close casper_close_remove_group_dialog">Cancel</a>
    </div>
  </form>
</div>

<div class="dialog" id="js_edit_group_dialog" style="width: 331px;" title="Edit Group">
  <form id="js_edit_group_form" class="add_group_form">
    <div class="inner_wrap">
      <i class="warning js_error_group"></i>
      <label for="js_edit_group_filed" style="width:auto">Group Name:</label>
      <input type="text" name="group" id="js_edit_group_filed">
    </div>
    <div class="save_cancel clearfix">
      <button type="submit" class="save_button float_right">Save</button>
      <a class="close casper_close_edit_group_dialog">Cancel</a>
    </div>
  </form>
</div>

<div class="dialog memory_quota_dialog" id="js_memory_quota_dialog" style="width: 475px;" title="Set RAM Quota">
  <form class="cluster_quota_settings">
    <p style="margin: 20px;">As this is the first server node provisioned with an index service, please review and set the per-server index RAM quota. This is one time only: when you add further index server nodes, we will not ask you to review this value again.</p>
    <div style="margin: 20px;" id="js_add_node_memory_quota_holder">
    </div>
    <div class="save_cancel clearfix">
      <button type="submit" class="save_button float_right">Set Quota</button>
    </div>
  </form>
</div>


<div class="dialog join_cluster join_cluster_dialog" id="join_cluster_dialog" title="Add Server">
  <!-- Join cluster -->
  <p class="warning pat_10" style="padding-right: 20px;" id="join_cluster_dialog_errors_container"></p>
  <p class="warning pat_10" style="padding: 0 20px;">
    <strong>Warning</strong> – Adding a server to this cluster means all data on that server will be removed.
  </p>
  <script id="join_cluster_dialog_errors_template" type="text/html">
    <!-- {% _.each(rows, function (e) { %} -->
    <strong>Attention</strong> - {%= h(e) %}<br>
    <!-- {% }); %} -->
  </script>
  <form>
    <fieldset>
      <ul>
        <li>
          <label class="label" for="add-server-hostname">Server IP Address*:</label>
          <input type="text" class="inp" name="hostname" id="add-server-hostname" />
          <a class="text_11 tooltip"><span>What's this?</span>
            <span class="tooltip_msg"><span>
              This is the hostname or IP address of a server node that you wish to add.
            </span></span>
          </a>
        </li>
        <li class="when-groups">
          <label class="label" for="js_servers_group_select">Server Group:</label>
          <select id="js_servers_group_select" class="server_group_select" style="width:157px;" name="group"></select>
        </li>
      </ul>
    </fieldset>
    <fieldset>
      <legend>Security <a class="text_11 tooltip"><span>What's this?</span>
        <span class="tooltip_msg"><span>
          Enter the username and password for the node you want to add to this cluster.
        </span></span></a>
      </legend>
      <ul>
        <li>
          <label class="label" for="user_inp">Username:</label>
          <input type="text" class="inp" name="user" id="user_inp" />
        </li>
        <li>
          <label class="label" for="password_inp">Password:</label>
          <input type="password" class="inp" name="password" id="password_inp" />
        </li>
      </ul>
    </fieldset>
    <fieldset class="only-when-40">
      <legend>Services</legend>
      <ul class="join_cluster_dialog_services">
        <li>
          <input type="checkbox" class="inp" name="services" value="kv" id="add_servers_data_checkbox" />
          <label class="label" for="add_servers_data_checkbox" style="text-align: left; width: 45px;">Data</label>

          <input type="checkbox" class="inp" name="services" value="index" id="add_servers_index_checkbox" />
          <label class="label" for="add_servers_index_checkbox" style="text-align: left; width: 45px;">Index</label>

          <input type="checkbox" class="inp" name="services" value="n1ql" id="add_servers_n1ql_checkbox" />
          <label class="label" for="add_servers_n1ql_checkbox" style="text-align: left; width: 45px;">Query</label>

          <input type="checkbox" class="inp" name="services" value="fts" id="add_servers_fts_checkbox" />
          <label class="label" for="add_servers_fts_checkbox" style="text-align: left; width: 45px;">Full Text</label>

          <a class="tooltip text_11"><span>What's this?</span>
            <span class="tooltip_msg" style="width:350px;"><span>
              Each service represents a unique workload. Please check the service you want to enable on this node.
            </span></span>
          </a>
        </li>
      </ul>
    </fieldset>
    <div class="save_cancel clearfix">
      <button type="submit" class="save_button float_right">Add Server</button>
      <a class="casper_close_join_cluster_dialog close">Cancel</a>
    </div>
  </form>
  <!-- END join cluster -->
</div>


<div class="dialog" id="js_cancel_collection_confirmation_dialog" title="Confirm Log Collection Stop">
  <div class="content">
    <div class="pas_20">
      <div class="warning pat_20">
        <strong>Warning</strong> - Are you sure you want to stop log collection?
      </div>
    </div>
    <div class="right save_cancel pas_20 footer_bg">
      <button type="submit" class="save_button float_right">Stop</button>
      <a class="close cancel_button float_right">Cancel</a>
    </div>
  </div>
</div>

<script id="eject_confirmation_dialog_template" type="text/html">
  <p>Warning! Removing this node will:</p>
  <ul style="margin:15px;">
  {% if (isThereIndex) { %}
    <li>Remove indexes from the cluster and may cause queries to fail</li>
  {% } %}
  {% if (isLastIndex) { %}
    <li>Remove the last index node from the cluster so new indexes can’t be created</li>
  {% } %}
  {% if (isLastQuery) { %}
    <li>Remove the last query node from the cluster so queries can’t be run</li>
  {% } %}
  {% if (isLastFullText) { %}
    <li>Remove the last full text node from the cluster so full text indexes can’t be created</li>
  {% } %}
  {% if (isKv) { %}
    <li>Reduce cache capacity across all data buckets</li>
  {% } %}
  </ul>
  <p>Are you sure you want to remove this server?</p>
</script>


<!--  eject confirmation dialog -->
<div class="dialog" id="eject_confirmation_dialog" title="Confirm Server Removal" style="width: 600px;">
  <div class="content">
    <div class="pas_20">
      <div class="warning pat_20" id="eject_confirmation_dialog_container"></div>
    </div>
    <div class="right save_cancel pas_20 footer_bg">
      <button type="submit" class="save_button float_right">Remove</button>
      <a class="close casper_close_eject_confirmation_dialog float_right">Cancel</a>
    </div>
  </div>
</div>
<!-- END eject confirmation dialog -->

<!-- failover confirmation dialog -->
<div class="dialog" id="failover_confirmation_dialog" title="Confirm Node Fail Over">
  <div class="lbox">
    <div class="content">
      <div class="pas_20">
        <div class="failover_warning pat_20 warning_up_backfill">
          <h2>Fail Over Options</h2>
          <label><input type="radio" name="failOver" value="startGracefulFailover"> <span>Graceful Fail Over (default).</span></label>
          <label><input type="radio" name="failOver" value="failOver"> <span>Hard Fail Over - If you use hard failover option on a functioning node it may result in data loss. This is because failover will immediately remove the node from the cluster and any data that has not yet been replicated to other nodes may be permanently lost if it had not been persisted to disk.</span></label>
          <div class="warning js_gracefull_failover_message" style="margin-bottom: 15px;">
            <strong>Attention</strong> – Graceful fail over option is not available either because node is unreachable or replica vbucket cannot be activated gracefully.
          </div>
          <div class="warning js_warning" style="margin-top: 15px;">
            <strong>Attention</strong> – A significant amount of data stored on this node
              does not yet have replica (backup) copies! Failing over the node now will
              irrecoverably lose that data when the incomplete replica is
              activated and this node is removed from the cluster. It is
              recommended to select "Remove Server" and rebalance to
              safely remove the node without any data loss.
            <label><input type="checkbox" name="confirmation"> Please confirm Failover.</label>
          </div>
        </div>
        <div class="failover_warning pat_20 warning_up_no_backfill">
          <h2>Fail Over Options</h2>
          <label><input type="radio" name="failOver" value="startGracefulFailover"> <span>Graceful Fail Over (default).</span></label>
          <label><input type="radio" name="failOver" value="failOver"> <span>Hard Fail Over - If you use hard failover option on a functioning node it may result in data loss. This is because failover will immediately remove the node from the cluster and any data that has not yet been replicated to other nodes may be permanently lost if it had not been persisted to disk.</span></label>
          <div class="warning js_gracefull_failover_message" style="margin-bottom: 15px;">
            Attention – Graceful fail over option is not available either because node is unreachable or replica vbucket cannot be activated gracefully.
          </div>
          <div class="warning js_warning" style="margin-top: 15px;">
            <strong>Warning</strong> – Failing over the node will remove it from the cluster and activate a replica.
            Operations currently in flight and not yet replicated, will be lost. Rebalancing will be required
            to add the node back into the cluster. Consider using "Remove from Cluster" and rebalancing instead of Failover,
            to avoid any loss of data. Please confirm Failover.
          </div>
        </div>
        <div class="failover_warning pat_20 warning_down_backfill">
          <input type="radio" name="failOver" value="failOver" style="display:none">
          <div class="warning">
            <strong>Attention</strong> – There are not replica (backup) copies of all data
            on this node! Failing over the node now will irrecoverably
            lose that data when the incomplete replica is activated and
            this node is removed from the cluster. If the node might
            come back online, it is recommended to wait.
            Check this box if you want to failover the node, despite the resulting data loss
            <label><input type="checkbox" name="confirmation"> Please confirm Failover.</label>
          </div>
        </div>
        <div class="failover_warning pat_20 warning_down_no_backfill">
          <input type="radio" name="failOver" value="failOver" style="display:none">
          <div class="warning">
            <strong>Warning</strong> – Failing over the node will remove it from the cluster and activate a replica.
            Operations not replicated before the node became unresponsive, will be lost.
            Rebalancing will be required to add the node back into the cluster. Please confirm Failover.
          </div>
        </div>
        <div class="failover_warning pat_20 warning_dataless">
          <input type="radio" name="failOver" value="failOver" style="display:none">
          <div class="warning">
            <strong>Note</strong> – Failing over this node (which has no data) will remove it from the cluster.
            Rebalancing will be required to add the node back into the cluster. Please confirm Failover.
          </div>
        </div>
      </div>
      <div class="right save_cancel">
        <button type="submit" class="save_button float_right">Fail Over</button>
          <a class="close casper_close_failover_confirmation_dialog cancel_button float_right">Cancel</a>
      </div>
    </div>
  </div>
</div>
<!-- END failover confirmation dialog -->
<!-- Stop rebalance confirmation dialog -->
<div class="dialog" id="stop_rebalance_confirmation_dialog"
     title="Confirm Rebalance Stop">
  <div class="lbox type_2">
    <div class="content">
      <div class="pas_20">
        <div class="warning pat_20">
          <strong>Warning</strong> – Stopping rebalance is unsafe at this
          moment since cluster may be in a partitioned state. Continue only if
          you're perfectly sure that this is not the case.
        </div>
        <div class="right save_cancel">
          <button type="submit"
                  class="save_button float_right">Stop</button>
          <a class="close cancel_button float_right">Cancel</a>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- END stop rebalance confirmation dialog -->
<!-- Leave cluster -->
<div class="dialog" id="generic_dialog">
  <div class="lbox">
    <div class="center">
      <div class="pad">
        <div class="pas_20">
          <div class="pat_10">
            <p class="dialog-text">Really eject this node from cluster?</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- END Leave cluster -->
<!--  delete designdoc confirmation dialog -->
<div class="dialog" id="delete_designdoc_confirmation_dialog" title="Delete Design Document">
  <div class="lbox">
    <div class="content">
      <div class="pas_20">
        <div class="warning pat_20">
          <strong>Warning</strong> – The views contained in this Design Document will no longer be accessible. Are you sure you want to remove this Design Document?
        </div>
      </div>
      <div class="right save_cancel pas_20 footer_bg">
        <button type="submit" class="save_button float_right">Delete</button>
        <a class="close float_right">Cancel</a>
      </div>
    </div>
  </div>
</div>
<!-- END delete designdoc confirmation dialog -->
<!--  delete designdoc confirmation dialog -->
<div class="dialog" id="delete_document_confirmation_dialog" title="Delete Document">
  <div class="lbox">
    <div class="content">
      <div class="pas_20">
        <div class="warning pat_20">
          <div class="error"></div>
          <strong>Warning</strong> – Are you sure you want to remove this Document?
        </div>
      </div>
      <div class="right save_cancel pas_20 footer_bg">
        <button type="submit" class="save_button float_right">Delete</button>
        <a class="close float_right">Cancel</a>
      </div>
    </div>
  </div>
</div>
<!-- END delete designdoc confirmation dialog -->
<!-- copy design doc dialog -->
<div class="dialog view_document_dialog" id="copy_designdoc_dialog" title="Copy Design Document" style="width:30em">
  <form>
    <div class="clearfix">
      <label for="copy_ddoc_ddoc_name" class="bolder">Document Name:</label>
      <div style="width:20em; margin: 8px 0; padding: 0 5px; border: 1px solid #CCD3D7;background-color:white;font-size:13px;line-height:normal;">
      <table style="margin:0;padding:0;border:0;width:260px;">
        <tr><td><label for="copy_ddoc_ddoc_name" style="line-height:inherit;">_design/dev_</label></td>
        <td style="width:2000px;"><input id="copy_ddoc_ddoc_name" name="ddoc_name" style="width:100%;border:0;padding:0;font-family:inherit;color:inherit;"></td></tr>
      </table></div>
       <p><strong>NOTE:</strong> Development Mode (_design/dev_) provides the opportunity to edit and test
       your map/reduce views against a subset of data&mdash;without overloading the cluster.</p>
    </div>
    <div class="save_cancel">
      <button class="save_button float_right" type="submit">Copy</button>
      <a class="close">Cancel</a>
    </div>
  </form>
</div>
<!-- END copy design doc -->
<!-- copy view dialog -->
<div class="dialog view_document_dialog" id="copy_view_dialog" title="Copy View" style="width:30em">
  <span class="warning pat_10" style="display:none;"></span>
  <form>
    <div class="clearfix" style="padding-top:15px">
       <label class="bolder">Design Document Name:</label>
       <div style="width:20em; margin: 8px 0; padding: 0 5px; border: 1px solid #CCD3D7;background-color:white;font-size:13px;line-height:normal;">
       <table style="margin:0;padding:0;border:0;width:260px;">
         <tr><td><label for="copy_view_ddoc_name" style="line-height:inherit;">_design/dev_</label></td>
         <td style="width:2000px;"><input id="copy_view_ddoc_name" name="designdoc_name" style="width:100%;border:0;padding:0;font-family:inherit;color:inherit;" /></td></tr>
       </table></div>
       <label class="bolder">View Name:</label>
       <input name="view_name" class="view_name" value="??" />
    </div>
    <div class="save_cancel">
      <button class="save_button float_right" type="submit">Save</button>
      <a class="close">Cancel</a>
    </div>
  </form>
</div>
<!-- END copy view dialog -->
<!-- </div> --> <!-- #container -->
<!-- About -->
<div class="dialog" id="about_server_dialog">
  <div class="lbox">
    <div class="config-top">
      <h1>About Couchbase Server</h1>
    </div>
    <div class="center">
      <p class="dialog-text" id="about_versions"></p>
      <p class="dialog-text" style="margin-bottom:25px;">Cluster State ID: <span id="cluster_state_id"></span></p>
    </div>
    <div class="config-bottom">
      <button name="close" value="Close" class="submit close direction-button" id="about-close" type="submit">Close</button>

    </div>
  </div>
</div>
<!-- END about -->

<!-- Create Cluster Reference -->
<div class="dialog join_cluster" id="create_cluster_reference_dialog" title="Create Cluster Reference" style="width:500px">
  <div class="warning pat_10" id="create_cluster_reference_dialog_errors_container"></div>
  <script id="create_cluster_reference_dialog_errors_template" type="text/html">
    <!-- {% _.each(rows, function (e) { %} -->
    <strong>Attention</strong> - {%= h(e) %}<br>
    <!-- {% }); %} -->
  </script>
  <form>
    <fieldset>
      <ul>
       <li><label for="cluster_reference_name">Cluster Name:</label>
         <input name="name" id="cluster_reference_name" type="text" /></li>
       <li><label for="cluster_reference_hostname">IP/hostname:</label>
         <input name="hostname" id="cluster_reference_hostname" type="text" />
         <a class="text_11 tooltip"><span>What's this?</span>
           <span class="tooltip_msg"><span>
             This is the hostname or IP address of a node in the cluster you want
             to add.
           </span></span>
         </a>
        </li>
       </ul>
     </fieldset>
     <fieldset>
     <legend>Security
       <a class="text_11 tooltip"><span>What's this?</span>
         <span class="tooltip_msg"><span>
           These are the login credentials for the remote cluster.
         </span></span>
       </a>
     </legend>
     <ul>
       <li><label>Username:</label>
         <input name="username" type="text" /></li>
       <li><label>Password:</label>
         <input name="password" type="password" /></li>
       <li class="when-enterprise only-when-25"><label for="demand_encryption_flag-2">Enable Encryption</label>
        <input name="demandEncryption" id="demand_encryption_flag-2" type="checkbox" style="vertical-align: middle;">
        <a class="text_11 tooltip"><span>What's this?</span>
           <span class="tooltip_msg" style="width:250px"><span>
             If checked, XDCR data encryption occurs using SSL. Obtain the SSL certificate from the remote cluster (Settings &gt; Cluster) and paste below.
           </span></span>
         </a></li>
     </ul>
     <textarea id="ssh_key_area-2" name="certificate" style="font-size:10px;width:100%;margin:0;padding:0;min-height:20em;"></textarea>
    </fieldset>
    <div class="save_cancel">
      <button class="save_button float_right" type="submit">Save</button>
      <a class="close">Cancel</a>
    </div>
  </form>
</div>
<!-- END Create Cluster Reference -->

<!-- Create Replication -->
<div class="dialog join_cluster create_replication_dialog" id="create_replication_dialog" title="Create Replication" style="width:600px">
  <form>
    <fieldset>
      <span class="error error-container err-_" style="margin: 10px 0;"></span>
      <fieldset style="float:left;width:230px;">
        <legend>Replicate changes from:</legend>
        <ul>
          <li><label style="text-align:left;margin-left:15px;width:51px;">Cluster:</label>
            <span style="font-size: 0.7em;font-weight: bold;margin-left: 0.2em;">this cluster</span>
          </li>
          <li><label for="replication_from_bucket" style="text-align:left;margin-left:15px;width:51px;">Bucket:</label>
            <select name="fromBucket" id="replication_from_bucket" style="width: 154px;"></select>
            <span class="error error-container err-fromBucket" style="margin: 10px 0;text-align: right;"></span>
          </li>
          <li class="advanced_filtering when-goxdcr-enabled when-enterprise">
            <label for="js_xdcr_advaced_filtering_btn">Enable Advanced filtering:</label>
            <input id="js_xdcr_advaced_filtering_btn" type="checkbox">
          </li>
        </ul>
      </fieldset>
      <fieldset style="float:left;width:250px;">
        <legend>To:</legend>
        <ul>
          <li><label for="replication_to_cluster">Cluster:</label>
            <select name="toCluster" id="replication_to_cluster" style="width: 154px;">
              <option>remote cluster list</option>
            </select>
            <span class="error error-container err-toCluster" style="margin: 10px 0;text-align: right;"></span>
          </li>
          <li><label for="replication_to_bucket">Bucket:</label>
            <input name="toBucket" id="replication_to_bucket" type="text" />
            <span class="error error-container err-toBucket" style="margin: 10px 0;text-align: right;"></span>
            <!-- TODO: this needs to become a select box like the one above -->
          </li>
        </ul>
      </fieldset>
      <fieldset class="xdcr_advaced_filtering xdcr_advaced_settings when-goxdcr-enabled when-enterprise" id="js_xdcr_advaced_filtering" style="clear:both;">
        <div id="js_xdcr_advaced_filtering_container" class="xdcr_advaced_filtering_container" style="display:none;">
          <div>
            <label for="js_filter_expression" class="filter_expression_label">Filter Expression:</label>
            <a class="tooltip text_11" style="line-height:20px;"><span>What's this?</span>
              <span class="tooltip_msg" style="width:222px;"><span>
                The filter expression is a regular expression against which the keys of documents are tested. If the key matches the document will be replicated; otherwise the document won’t be replicated. You may test your filter expression against a number of sample candidate keys in the provided text boxes.
              </span></span>
            </a>
            <div style="position: relative;">
              <pre id="js_filter_expression" class="test_key_result filter_expression" contenteditable="true" spellcheck="false" name="filterExpression"></pre>
            </div>
            <i class="error js_error js_filterExpression" style="display: block;clear:both;margin-top:10px;margin-left:15px;"></i>
          </div>
          <div class="js_test_keys test_keys">
            <label for="xdcr_advaced_settings_type">Test Key:</label>
            <div class="js_test_key_wrapper test_key_wrapper">
              <pre class="js_test_key_result test_key_result" contenteditable="true" spellcheck="false"></pre>
              <div id="js_match_indicator" class="match_indicator">
                <span class="no_match">No Match</span>
                <span class="loading">...</span>
                <span class="match">Match</span>
              </div>
            </div>
          </div>
        </div>
      </fieldset>
      <fieldset class="xdcr_advaced_settings" id="js_xdcr_advaced_settings" style="clear:both;">
        <legend id="js_xdcr_advaced_settings_btn">Advanced settings:</legend>
        <div id="js_xdcr_advaced_settings_container" class="xdcr_advaced_settings_container">
          <div>
            <label for="xdcr_advaced_settings_type">XDCR Protocol:</label>
            <select id="xdcr_advaced_settings_type" name="type">
              <option value="capi">Version 1</option>
              <option value="xmem" selected="selected">Version 2</option>
            </select>
          </div>
          <div class="when-goxdcr-disabled">
            <label for="max_concurrent_reps">XDCR Max Replications per Bucket:</label>
            <input type="text" id="max_concurrent_reps" name="maxConcurrentReps">
            <i class="error js_error js_maxConcurrentReps"></i>
          </div>
          <div class="when-goxdcr-disabled">
            <label for="worker_processes_setting">XDCR workers per Replication:</label>
            <input type="text" id="worker_processes_setting" name="workerProcesses">
            <i class="error js_error js_workerProcesses"></i>
          </div>
          <div class="when-goxdcr-enabled">
            <label for="source_nozzle_per_node">XDCR Source Nozzles per Node:</label>
            <input type="text" id="source_nozzle_per_node" name="sourceNozzlePerNode">
            <i class="error js_error js_sourceNozzlePerNode"></i>
          </div>
          <div class="when-goxdcr-enabled">
            <label for="target_nozzle_per_node">XDCR Target Nozzles per Node:</label>
            <input type="text" id="target_nozzle_per_node" name="targetNozzlePerNode">
            <i class="error js_error js_targetNozzlePerNode"></i>
          </div>
          <div>
            <label for="checkpoint_interval">XDCR Checkpoint Interval:</label>
            <input type="text" id="checkpoint_interval" name="checkpointInterval">
            <i class="error js_error js_checkpointInterval"></i>
          </div>
          <div>
            <label for="worker_batch_size">XDCR Batch Count:</label>
            <input type="text" id="worker_batch_size" name="workerBatchSize">
            <i class="error js_error js_workerBatchSize"></i>
          </div>
          <div>
            <label for="doc_batch_size_kb">XDCR Batch Size (kB):</label>
            <input type="text" id="doc_batch_size_kb" name="docBatchSizeKb">
            <i class="error js_error js_docBatchSizeKb"></i>
          </div>
          <div>
            <label for="failure_restart_interval">XDCR Failure Retry Interval:</label>
            <input type="text" id="failure_restart_interval" name="failureRestartInterval">
            <i class="error js_error js_failureRestartInterval"></i>
          </div>
          <div>
            <label for="optimistic_replication_threshold">XDCR Optimistic Replication Threshold:</label>
            <input type="text" id="optimistic_replication_threshold" name="optimisticReplicationThreshold">
            <i class="error js_error js_optimisticReplicationThreshold"></i>
          </div>
          <div class="when-goxdcr-enabled">
            <label for="statistics_collection_interval">XDCR Statistics Collection Interval (ms):</label>
            <input type="text" id="statistics_collection_interval" name="statsInterval">
            <i class="error js_error js_statsInterval"></i>
          </div>
          <div class="when-goxdcr-enabled">
            <label for="logging_level">XDCR Logging Level:</label>
            <select name="logLevel" id="logging_level">
              <option value="Info">Info</option>
              <option value="Debug">Debug</option>
              <option value="Trace">Trace</option>
              <option value="Error">Error</option>
            </select>
            <i class="error js_error js_logLevel"></i>
          </div>
        </div>
      </fieldset>
    </fieldset><input type="hidden" name="replicationType" value="continuous" />
    <div class="save_cancel">
      <button class="save_button float_right replicate-button" type="submit" style="margin-left:12px;">Replicate</button>
      <a class="close">Cancel</a>
    </div>
  </form>
</div>
<!-- END Create Replication -->

<div class="auth_block" id="auth_dialog">
  <div class="page-header">
    <div class="cnt_holder main_holder">
      <div class="topper_nav">
          <a href="javascript:showAbout();">About</a>
          <i class="sign-out-link" style="display:none"><b>&bull;</b> <a href="javascript:ThePage.signOut();">Sign Out</a></i>
      </div>
    </div>
  </div>
  <div class="pad">
    <div class="alert_red" id="auth_failed_message" style="display:none;">
      <div class="al_text">
        Login failed. Try again.
      </div>
    </div>
    <form id="login_form" class="form block" autocomplete="off">
      <fieldset>
        <ul>
          <li>
            <label for="login_inp">Username:</label>
            <input type="text" name="login" id="login_inp" class="inp" autocomplete="off" />
          </li>
          <li>
            <label for="password2_inp">Password:</label>
            <input type="password" name="password" id="password2_inp" class="inp" autocomplete="off" />
          </li>
        </ul>
        <input type="submit" value="Sign In" class="submit" />
      </fieldset>

      <div class="spinner">
        <noscript style="color:#1F292E;text-shadow: 0px 1px 0px #a6b1b3;line-height: 2em;padding:5% 10%;display:block;">
        Your browser does not support JavaScript, or it is currently disabled. This application requires a browser with JavaScript enabled. Please, see the documentation for details.
        </noscript>
        <span>Loading...</span>
      </div>
    </form>
  </div>
</div>

<script id="js_fragmentation_settings_template" type="text/html">
  <p>Set the {%= name %} fragmentation level to determine the point when compaction is triggered.</p>
  <p class="row">
    {% if (name !== 'index') { %}
    <input type="checkbox" class="check-for-{%= name %}FragmentationThresholdPercentage">
    {% } %}
    <input type="number" name="{%= name %}FragmentationThreshold[percentage]"> %
    <span class="error-container err-{%= name %}FragmentationThreshold-percentage-"></span>
  </p>
  {% if (name !== 'index') { %}
  <p class="row">
    <input type="checkbox" class="check-for-{%= name %}FragmentationThresholdSize">
    <input type="number"  name="{%= name %}FragmentationThreshold[size]" class="size"> MB
    <span class="error-container err-{%= name %}FragmentationThreshold-size-"></span>
  </p>
  {% } %}
</script>

<!-- END auth_block -->
<div class="init_block" id="init_block">

  <div class="pad" id="init_welcome_dialog">
    <div class="pad-header">
      <img class="logo" src="images/couchbase_2.0.2.png" alt="Couchbase logo">
    </div>
    <form id="init_welcome_form" class="clearfix">
      <div class="version" style="display:none;"><span class="couchbase-version"></span></div>
      <button tabindex="1" class="setup focusme next">Setup</button>
    </form>
    <div class="welcome-footer">
      Copyright &copy; 2016 Couchbase, Inc. All Rights Reserved
      <a href="http://www.couchbase.com/contact" id="welcome-footer-contact" target="_blank">Contact</a> <a href="javascript:showAbout();">About</a>
    </div>
  </div>
  <!-- END welcome_block -->
  <div class="pad" id="init_cluster_dialog">
    <div class="config-top">
      <h1>Configure Server</h1>
      <h2>Step <span class="current-step">1</span> of 5</h2>
    </div>
    <h2 class="question">Configure Disk Storage</h2>
    <div class="disk_setup_block">
      <form>
        <input type="submit" style="width:0px; height: 0px; display: none;">

        <div>
          <label for="setup_db_path_input">Databases Path:</label>
          <input type="text" name="db_path"
                 id="setup_db_path_input" />
          <br class="clear" />
        </div>

        <div>
          <label>Free:</label>
          <span style="margin-left:5px; line-height: 25px;"
                class="total-db-size">---</span>
        </div>

        <div>
          <label for="setup_index_path_input">Indexes Path:</label>
          <input type="text" name="index_path"
                 id="setup_index_path_input" />
          <br class="clear" />
        </div>

      <div>
        <label>Free:</label>
        <span style="margin-left:5px; line-height: 25px;"
              class="total-index-size">---</span>
      </div>
      </form>
      <div class="warning init_cluster_dialog_errors_container" style="display:none;"></div>
      <p class="when-enterprise">
        Hint: if you use this server in a production environment, use different file systems for databases and indexes.
      </p>
    </div>

    <h2 class="question">Configure Server Hostname</h2>
    <div class="hostname_setup_block">
      <div>
        <form>
          <input type="submit" style="width:0px; height: 0px; display: none;">

          <div>
            <label for="setup_hostname">Hostname:</label>
            <input type="text" name="hostname" id="setup_hostname" />
            <br class="clear" />
          </div>

        </form>
      </div>
      <div class="warning pat_10"
           id="init_cluster_dialog_hostname_errors_container"
           style="display:none;"></div>
    </div>

    <h2 class="question">Join Cluster / Start new Cluster</h2>
    <p class="pad_10">
    If you want to add this server to an existing Couchbase Cluster, select "Join a
    cluster now".
    Alternatively, you may create a new Couchbase Cluster by selecting "Start a new
    cluster".
    </p><p class="pad_10">
    If you start a new cluster the "Per Server RAM Quota" you set below will define
    the amount of RAM each server provides to the Couchbase Cluster. This value will
    be inherited by all servers subsequently joining the cluster, so please set
    appropriately.
    </p>
    <form id="init_cluster_form" class="form block init_cluster_form"><input type="submit" style="width:0px; height: 0px; border: 0; padding: 0 0; margin: 0 0;display:none;">
      <div>
         <h3><label>
            <input type="radio" name="join_cluster" id="no-join-cluster" checked />
            Start a new cluster.
         </label></h3>
         <div class="start_new_cluster_block js_start_new_cluster_block">
            <div class="warning pat_10" id="init_cluster_dialog_memory_errors_container"></div>
            <div class="warning pat_10" id="init_cluster_service_errors_container"></div>
            <div id="js_start_new_cluster_memory_quoata_cont"></div>
         </div>
      </div>
      <div>
        <h3><label>
          <input type="radio" name="join_cluster" id="join-cluster" />
          Join a cluster now.
        </label></h3>
        <div class="login-credentials js_login-credentials">
          <p class="warning pat_10 join_cluster_dialog_errors_container"></p>
          <div>
            <label for="clusterMemberHostIp">IP Address:</label>
            <input type="text" class="inp" name="hostname" id="clusterMemberHostIp" value="" />
            <br class="clear" />
          </div>
          <div>
            <label for="join_user_input">Username:</label>
            <input type="text" class="inp" name="user" id="join_user_input" value="Administrator" />
            <br class="clear" />
          </div>
          <div>
            <label for="join_password_input">Password:</label>
            <input type="password" class="inp" name="password" id="join_password_input" />
            <br class="clear" />
          </div>
          <div>
            <label>Services:</label>
            <div  class="wizard_services js_wizard_services">
              <input type="checkbox" class="inp" name="services" value="kv" id="wizard_join_servers_data_checkbox" checked/>
              <label class="label" for="wizard_join_servers_data_checkbox">Data</label>

              <input type="checkbox" class="inp" name="services" value="index" id="wizard_join_setup_index_checkbox" checked/>
              <label class="label" for="wizard_join_setup_index_checkbox">Index</label>

              <input type="checkbox" class="inp" name="services" value="n1ql" id="wizard_join_setup_n1ql_checkbox" checked/>
              <label class="label" for="wizard_join_setup_n1ql_checkbox">Query</label>

              <input type="checkbox" class="inp" name="services" value="fts" id="wizard_join_setup_fts_checkbox" checked/>
              <label class="label" for="wizard_join_setup_fts_checkbox">Full Text</label>
            </div>
            <a class="tooltip text_11"><span>What's this?</span>
              <span class="tooltip_msg" style="width:350px;"><span>
                Each service represents a unique workload. Please check the service you want to enable on this node.
              </span></span>
            </a>
          </div>
       </div>
      </div>
    </form>
    <div class="config-bottom">
      <button name="next" value="Next" class="submit next direction-button" id="step-2-next" type="submit">Next</button>
    </div>
    </div>
  <!-- END init_cluster_block -->

  <div class="pad bucket_details" id="init_bucket_dialog">
    <div class="config-top">
      <h1>Create Default Bucket</h1>
      <h2>Step <i class="current-step">3</i> of 5</h2>
    </div>
    <form>
    <div class="clearfix">
      <h2>Bucket Settings</h2>
      <div class="bucket-icon sub_section">
        <div>
          <label>Bucket Name:</label>
          <strong>default</strong>
        </div>
        <div>
          <label>Bucket Type:</label>
          <div class="with_radiogroup">
            <div>
              <input type="radio" name="bucketType" value="membase" id="bucket_type_membase_init">
              <label for="bucket_type_membase_init">Couchbase</label>
            </div>
            <div>
              <input type="radio" name="bucketType" value="memcached" id="bucket_type_memcached_init">
              <label for="bucket_type_memcached_init">Memcached</label>
            </div>
          </div>
        </div>
      </div>

      <h2>Memory Size</h2>
      <div class="sub_section" style="margin-right: 0;">
        <div class="for-ram-quota">
          <div class="size-gauge for-ram">
            <div class="top-right">Cluster quota (0 MB)</div>
            <div class="usage">
              <div style="width:100%;background-color:#E1E2E3"></div>
            </div>
            <table style="width:100%;">
              <tbody>
                <tr><td style="text-align:left;color:#1878a2;">Other Buckets (0 B)</td><td style="text-align:center;color:#409f05;">This Bucket (0 MB)</td><td style="text-align:right;color:#444245;">Free (0 MB)</td></tr>
              </tbody>
            </table>
          </div>
          <div class="gauge-label">
            <label for="ram_quota_mb_init">Per Node RAM Quota:</label>
            <input name="ramQuotaMB" class="focusme" type="text" value="30" id="ram_quota_mb_init">
            <abbr>MB</abbr>
          </div>
        </div>
        <div class="error-container err-ramQuotaMB"></div>
        <p class="memcached-summary when-non-persistent"></p>
        <div class="cache_metadata_block persistent-only">
          <label>Cache Metadata:</label>
          <div class="with_radiogroup">
            <div>
              <input type="radio" name="evictionPolicy" value="valueOnly" id="cache_metadata_retain-init" checked="checked">
              <label for="cache_metadata_retain-init">Value Ejection</label>
            </div>
            <div>
              <input type="radio" name="evictionPolicy" value="fullEviction" id="cache_metadata_non_retain-init">
              <label for="cache_metadata_non_retain-init">Full Ejection</label>
            </div>
          </div>
          <a class="tooltip text_11"><span>What's this?</span>
            <span class="tooltip_msg" style="width:350px;"><span>
              Value Ejection - During ejection, only the value will be ejected (key and metadata will remain in memory).
              Full Ejection - During ejection, everything (including key, metadata and value) will be ejected.
              Value Ejection needs more system memory but provides the best performance. Full Ejection reduces memory overhead requirement.
            </span></span>
          </a>
        </div>
      </div>

      <div class="persistent-only">
        <h2>Replicas</h2>
        <div class="sub_section replicas_settigns">
          <input type="checkbox" checked id="for-enable-replicas-init" class="js_for-enable-replicas">
          <label for="for-enable-replicas-init">Enable</label>
          <input class="hidden-replica-number" type="hidden" name="replicaNumber" value="0" disabled>
          <div class="for-replica-number">
            <select name="replicaNumber">
              <option value="1">1</option><option value="2">2</option><option value="3">3</option>
            </select>
            <label>Number of replica (backup) copies</label>
          </div>
          <div class="error-container err-replicaNumber"></div>
          <div></div>
          <input type="hidden" name="replicaIndex" value="0">
          <input type="checkbox" name="replicaIndex" value="1" id="label_replica_index_flag-init">
          <label for="label_replica_index_flag-init">View index replicas</label>
        </div>
      </div><!-- .persistent-only -->

      <div class="persistent-only bucket-io-priority">
        <h2>Disk I/O Optimization</h2>
        <div class="sub_section">
          <label>Set the bucket disk I/O priority:</label>
          <div class="with_radiogroup">
            <div>
              <input type="radio" name="threadsNumber" value="3" checked="checked" id="low_threads_number_init">
              <label for="low_threads_number_init">Low (default)</label>
            </div>
            <div>
              <input type="radio" name="threadsNumber" value="8" id="hight_threads_number_init">
              <label for="hight_threads_number_init">High</label>
            </div>
          </div>
          <a class="tooltip text_11"><span>What's this?</span>
            <span class="tooltip_msg" style="width:200px;"><span>
                This is an advanced setting for Disk I/O optimization which allows tasks to be handled based on priority.
            </span></span>
          </a>
        </div>
      </div> <!-- .persistent-only -->

      <h2>Flush</h2>
      <div class="sub_section">
        <input type="checkbox" class="for-enable-flush" id="for-enable-flush-init" name="flushEnabled" value="1">
        <label for="for-enable-flush-init">Enable</label>
        <a class="tooltip text_11"><span>What's this?</span>
          <span class="tooltip_msg" style="width:218px;"><span>
            When flushed, items in memcached buckets are flagged for removal and subsequently removed; items in couchbase buckets are immediately removed. This does not affect the item count immediately.
          </span></span>
        </a>
      </div>
    </div>

    <div class="config-bottom">
    <button name="finish" class="submit finish direction-button" type="submit">Next</button>
    <button name="back" class="submit back direction-button" id="step-init-bucket-back" type="button">Back</button>
    </div></form>
  </div>
  <!-- END init_bucket_block -->

  <div class="pad" id="init_setting_memory_quota_dialog"><form>
    <div class="config-top">
      <h1>Set RAM Quota</h1>
      <h2>Step <span class="current-step">5</span> of 5</h2>
    </div>
    <h2 class="question">Set RAM Quota</h2>
    <p class="pad_10" style="margin:20px 85px;">
      As this is the first server node provisioned with an index service, please review and set the per-server index RAM quota. This is one time only: when you add further index server nodes, we will not ask you to review this value again.
    </p>
    <div id="js_join_wizard_cluster_quota" class="cluster_quota_settings pad_10"></div>
    <div class="config-bottom">
      <button name="next" value="Next" class="submit next direction-button" type="submit">Set Quota</button>
    </div>
  </form></div>

  <div class="pad" id="init_update_notifications_dialog"><form>
    <div class="config-top">
      <h1>Notifications</h1>
      <h2>Step <span class="current-step">4</span> of 5</h2>
    </div>
    <h2 class="question">Update Notifications</h2>
    <p class="pad_10">
      <label for="init-notifications-updates-enabled">
        <input type="checkbox" id="init-notifications-updates-enabled" checked="checked">
        <span>Enable software update notifications</span>
      </label>
      <a class="tooltip text_11"><span>What's this?</span>
        <span class="tooltip_msg" style="width:300px;"><span>
            Enabling software update notifications allows notification in the Couchbase web console when a new version of Couchbase Server is available. Configuration information transferred in the update check is anonymous and does not include any stored key-value data.
        </span></span>
      </a>
    </p>
    <div class="when-community">
      <h2 class="question">Community Updates</h2>
      <p class="pad_10">Please provide your email address to join the community and receive news on coming events.</p>
    </div>
    <div class="when-enterprise">
      <h2 class="question">Product Registration</h2>
      <p class="pad_10 clearfix">Register your Enterprise Edition of Couchbase Server below.</p>
    </div>
    <div class="pad_10 warn" id="update_notifications_errors_container"></div>
    <script type="text/html" id="update_notifications_errors_template">
      <ul>
      <!-- {% _.each(rows, function (errorMsg) { %} -->
        <li>{%= h(errorMsg) %}</li>
      <!-- {% }); %} -->
      </ul>
    </script>
    <div class="subscribe_fields">
      <p class="pad_10">
        <label for="init-join-community-email">
          <span class="field-label">Email:</span>
          <input id="init-join-community-email" class="focusme">
          <span class="error-container err-name"></span>
        </label>
      </p>
      <p class="pad_10">
        <label for="init-join-community-firstname">
          <span class="field-label">First name:</span>
          <input id="init-join-community-firstname">
          <span class="error-container err-firstname"></span>
        </label>
      </p>
      <p class="pad_10">
        <label for="init-join-community-lastname">
          <span class="field-label">Last name:</span>
          <input id="init-join-community-lastname">
          <span class="when-required" style="color:red;">*</span>
          <span class="error-container err-lastname"></span>
        </label>
      </p>
      <p class="pad_10">
        <label for="init-join-community-company">
          <span class="field-label">Company:</span>
          <input id="init-join-community-company">
          <span class="error-container err-company"></span>
        </label>
      </p>
      <p class="when-enterprise pad_10">
        <label for="init-join-terms"><input type="checkbox" id="init-join-terms">
          <span>I agree to the <a href="http://www.couchbase.com/agreement/free-license" target="_blank">terms and conditions</a> associated with this product. <span style="color:red">*</span></span>
        </label>
      </p>
    </div>
    <div class="config-bottom">
      <button name="next" value="Next" class="submit next direction-button" id="step-3-next" type="submit">Next</button>
      <button name="back" value="Back" class="submit back direction-button" id="step-3-back" type="button">Back</button>
    </div>
  </form></div>
  <!-- END init_update_notifications-->
  <div class="pad" id="init_sample_buckets_dialog"><form>
    <div class="config-top">
      <h1>Sample Buckets</h1>
      <h2>Step <span class="current-step">2</span> of 5</h2>
    </div>
    <h2 class="question">Sample Data and Views</h2>
    <p class="pad_10">
      Sample buckets contain example data and Couchbase views. You can provision one or more sample buckets to help you discover the power of Couchbase Server. Sample buckets can be removed later from the bucket edit panel.
    </p>
    <h3>Available Samples</h3>
    <ul id="setup_available_samples"></ul>
    <div class="config-bottom">
      <button name="next" value="Next" class="submit next direction-button" id="step-4-next" type="submit">Next</button>
      <button name="back" value="Back" class="submit back direction-button" id="step-4-back" type="button">Back</button>
    </div>
  </form></div>
  <!-- END init_sample_buckets_dialog -->
  <div class="pad" id="init_secure_dialog">
   <div class="config-top">
      <h1>Configure Server</h1>
      <h2>Step <span class="current-step">5</span> of 5</h2>
    </div>
    <div class="alert_red" id="init_secure_failed_message" style="display:none;">
      <div class="al_text">
        Could not secure the server because of bad input.
      </div>
    </div>
    <h2 class="question">Secure this Server</h2>
    <p class="pad_10">
      Please create an administrator account for this Server. If you want to join other
      servers to this one to form a cluster, you will need to use these administrator
      credentials in the "join cluster" process.
    </p>
    <div class="warn pad_10">
        <ul></ul>
      </div>
    <form id="init_secure_form" class="form block" action="/settings/web" autocomplete="off">
      <input type="text" name="port"
            style="display:none;" value="SAME"/>
      <div class="username-input">
        <label for="secure-username">Username:</label>
        <input type="text" name="username" class="inp" value="Administrator" id="secure-username" maxlength="24" />
      </div>
      <div class="password-input">
        <label for="secure-password">Password:</label>
        <input type="password" name="password" class="inp focusme" id="secure-password" autocomplete="off" />
      </div>
      <div class="password-input-verify">
        <label for="secure-password">Verify Password:</label>
        <input type="password" name="password" class="inp" id="secure-password-verify" autocomplete="off" />
      </div>
      <!--button type="submit" style="display:none;"></button-->
    <div class="config-bottom">
      <button name="finish" value="Finish" class="submit finish direction-button" id="step-5-finish" type="submit">Next</button>
      <button name="back" value="Back" class="submit back direction-button" id="step-5-back" type="button">Back</button>
    </div>
    </form>
  </div>
  <!-- END init_secure_block -->
</div>
<!-- END init_block -->
<script id="notice_template" type="text/html">
<div class="shadow_box notice">
    <h2 class="header_2">Couchbase Server Message<span style="float: right; color: black; font-size: 13px;">click to dismiss</span></h2>
    <div class="pad_10 success_msg">
      <p class="info_text">{%= h(text) %}</p>
    </div>
</div>
</script>
<script id="noticeErr_template" type="text/html">
<div class="shadow_box notice">
    <h2 class="header_2">Couchbase Server Alert<span style="float: right; color: black; font-size: 13px;">click to dismiss</span></h2>
    <div class="pad_10 error_msg">
      <p class="info_text">{%= h(text) %}</p>
    </div>
</div>
</script>
<script type="text/html" id="js_memory_quota_settings_widget_template">
  <div class="error-container err-_"></div>
  {% if (totalMemorySize) { %}
  <div class="row">
    <label>RAM Available: </label>
    <span class="ram-total-size">{%= h(totalMemorySize) %} MB</span>
  </div>
  {% } %}
  {% if (isServicesControllsAvailable) { %}
    <div class="row">
      <label>Services:</label>
      <div class="wizard_services">
        <input type="checkbox" class="js_service_flag" name="services" value="kv" id="{%= prefix %}_kv_checkbox" checked disabled />
        <label class="label" for="{%= prefix %}_kv_checkbox">Data</label>
        <input type="checkbox" class="js_service_flag" name="services" value="index" id="{%= prefix %}_index_checkbox" checked />
        <label class="label" for="{%= prefix %}_index_checkbox">Index</label>
        <input type="checkbox" class="js_service_flag" name="services" value="n1ql" id="{%= prefix %}_n1ql_checkbox" checked />
        <label class="label" for="{%= prefix %}_n1ql_checkbox">Query</label>
        <input type="checkbox" class="js_service_flag" name="services" value="fts" id="{%= prefix %}_fts_checkbox" checked />
        <label class="label" for="{%= prefix %}_fts_checkbox">Full Text</label>
      </div>
      <a class="tooltip text_11"><span>What&#39;s this?</span>
        <span class="tooltip_msg" style="width:350px;"><span>
          Each service represents a unique workload. Please check the service you want to enable on this node.
        </span></span>
      </a>
    </div>
  {% } %}
  {% if (showKVMemoryQuota) { %}
  <div class="memory-quota row">
    <label for="{%= prefix %}_kv_ram_quota">Data RAM Quota:</label>
    <input type="number" class="focusme js_ram_quota" id="{%= prefix %}_kv_ram_quota" name="memoryQuota" value="{%= h(memoryQuota) %}" {%= roAdmin ? "disabled" : "" %} />
    <span>MB (min {%= minMemorySize %} MB)</span>
    <a class="tooltip text_11"><span>What&#39;s this?</span>
      <span class="tooltip_msg" style="width:150px;"><span>
        Main memory allocation amount for data service per node.
      </span></span>
    </a>
    <span class="error-container err-memoryQuota"></span>
  </div>
  {% } %}
  {% if (showIndexMemoryQuota) { %}
  <div class="memory-quota row">
    <label for="{%= prefix %}_index_ram_quota">Index RAM Quota:</label>
    <input type="number" class="js_ram_quota" id="{%= prefix %}_index_ram_quota" name="indexMemoryQuota" value="{%= h(indexMemoryQuota) %}" {%= roAdmin ? "disabled" : "" %} />
    <span>MB (min 256 MB)</span>
    <a class="tooltip text_11"><span>What&#39;s this?</span>
      <span class="tooltip_msg" style="width:150px;"><span>
        Main memory allocation amount for index service per node.
      </span></span>
    </a>
    <span class="error-container err-indexMemoryQuota"></span>
  </div>
  {% } %}
  {% if (maxMemorySize) { %}
  <div class="row">
    <label>Total Per Server:</label>
    <span><span class="js_per_server_total"></span> MB (must be less than <span class="js_max_ram_size">{%= h(maxMemorySize + 1) %}</span> MB) </span>
  </div>
  {% } %}
</script>

<!--[if IE]><script language="javascript" type="text/javascript" src="js/excanvas.min.js"></script><![endif]-->
<script src="js/bugsnag.js" data-apikey="01000110010000010100101101000101" data-endpoint="....."></script>
<script src="js/jquery.js"></script>
<script src="js/bugsnag-override.js"></script>
<script>
$(function() {
  if ($.browser.mozilla) {
    $('body').addClass('firefox');
  }
});
</script>
<script src="js/jquery-ui.custom.js"></script>
<script src="js/jquery.flot.js"></script>
<script src="js/jquery.sparkline.js"></script>
<script type="text/javascript" src="js/jquery.selectBox.js"></script>
<script src="js/jquery.ba-bbq.js"></script>
<script src="js/jquery.ba-outside-events.js"></script>
<!--[if lt IE 9]>
<script>
$(window).bind('template:rendered', function () {
  $('table.lined_tab').each(function () {
    $(this).find('tr:has(td):odd').addClass('highlight');
  });
});
</script>
<![endif]-->
<script src="js/underscore.js"></script>
<script src="js/tools.tabs.js"></script>
<script src="js/jquery.cookie.js"></script>
<script src="js/futon.format.js"></script>
<script src="js/codemirror/codemirror.js"></script>
<script src="js/codemirror/javascript.js"></script>
<script src="js/misc.js"></script>
<script src="js/base64.js"></script>
<script src="js/jst.js"></script>
<script src="js/cells.js"></script>
<script src="js/app-ui-misc.js"></script>
<script src="js/app-misc.js"></script>
<script src="js/core-data.js"></script>
<script src="js/analytics.js"></script>
<script src="js/logs.js"></script>
<script src="js/groups.js"></script>
<script src="js/servers.js"></script>
<script src="js/settings.js"></script>
<script src="js/buckets.js"></script>
<script src="js/filter.js"></script>
<script src="js/views.js"></script>
<script src="js/indexes.js"></script>
<script src="js/replications.js"></script>
<script src="js/documents.js"></script>
<script src="js/overview.js"></script>
<script src="js/all-images.js"></script>
<script src="js/global_progress.js"></script>
<script src="js/app.js"></script>
</body>
</html>
